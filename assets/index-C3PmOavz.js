(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();var Ki=Object.defineProperty,Qi=(t,e,n)=>e in t?Ki(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M=(t,e,n)=>Qi(t,typeof e!="symbol"?e+"":e,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();let Zi=0;class yt{constructor(e){M(this,"pointers",[]),M(this,"keys",[]),M(this,"isLeaf"),M(this,"parent",null),M(this,"id","n"+Zi++),M(this,"edgeId",null),this.isLeaf=e}addNodeToPointers(e,n=-1){if(this.pointers===null)throw new Error("pointers was null, this should not happen, bad state");if(n===-1){for(let r=0;r<=this.pointers.length;r++)if(this.pointers[r]===null||this.pointers.length===r){this.pointers[r]=e;return}}else this.pointers[n]=e,e!=null&&(e.parent=this)}removeNodeFromPointer(e){const n=this.pointers[e];if(n!==null&&(n.parent=null,this.pointers[e]=null,e==this.pointers.length-1))for(let r=e;r>=0;r--)if(this.pointers[r]===null)this.pointers.length=r;else return}static structuredClone(e,n=new Map){if(n.has(e))return n.get(e);const r=new yt(e.isLeaf);r.id=e.id,r.edgeId=e.edgeId,r.keys=[...e.keys],n.set(e,r),r.pointers.length=e.pointers.length;for(let i=0;i<e.pointers.length;i++){const s=e.pointers[i];if(s instanceof yt){const o=yt.structuredClone(s,n);r.pointers[i]=o,o.parent=r}else r.pointers[i]=null}return r}}class ts{constructor(){M(this,"steps",[]),M(this,"currentStepIndex",-1)}addAlgoStep(e){this.steps[this.currentStepIndex+1]&&(this.steps=this.steps.slice(0,this.currentStepIndex+1)),this.steps[++this.currentStepIndex]=e}stepForwards(){if(this.steps[this.currentStepIndex+1]===void 0)return null;const e=this.steps[this.currentStepIndex+1].do();if(e===null)throw new Error("null algo step made it into the history. This should not happen.");return this.currentStepIndex++,e}stepBackwards(){if(this.steps[this.currentStepIndex]===void 0)return null;const e=this.steps[this.currentStepIndex].undo();return this.currentStepIndex--,e}}/**
* anime.js - ESM
* @version v4.0.0
* @author Julian Garnier
* @license MIT
* @copyright (c) 2025 Julian Garnier
* @see https://animejs.com
*/const Lt=typeof window<"u",kn=Lt?window:null,ge=Lt?document:null,at={OBJECT:0,ATTRIBUTE:1,CSS:2,TRANSFORM:3,CSS_VAR:4},U={NUMBER:0,UNIT:1,COLOR:2,COMPLEX:3},Tt={NONE:0,AUTO:1,FORCE:2},_t={replace:0,none:1,blend:2},xr=Symbol(),tr=Symbol(),er=Symbol(),mn=Symbol(),Tr=Symbol(),ti=Symbol(),H=1e-11,ei=1e12,jt=1e3,Dn=120,te="",Oe=new Map;Oe.set("x","translateX");Oe.set("y","translateY");Oe.set("z","translateZ");const nr=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],ni=nr.reduce((t,e)=>({...t,[e]:e+"("}),{}),bt=()=>{},es=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,ns=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,rs=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,is=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,ss=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,kr=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,os=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,as=/([a-z])([A-Z])/g,us=/(\w+)(\([^)]+\)+)/g,ls=/(\*=|\+=|-=)/,ri={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:Dn,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:jt,delay:0,loopDelay:0,ease:"out(2)",composition:_t.replace,modifier:t=>t,onBegin:bt,onBeforeUpdate:bt,onUpdate:bt,onLoop:bt,onPause:bt,onComplete:bt,onRender:bt},ht={defaults:ri,root:ge,precision:4,timeScale:1,tickThreshold:200},ii={version:"4.0.0",engine:null};Lt&&(kn.AnimeJS||(kn.AnimeJS=[]),kn.AnimeJS.push(ii));const hs=t=>t.replace(as,"$1-$2").toLowerCase(),re=(t,e)=>t.indexOf(e)===0,Ce=Date.now,ye=Array.isArray,Se=t=>t&&t.constructor===Object,rr=t=>typeof t=="number"&&!isNaN(t),De=t=>typeof t=="string",oe=t=>typeof t=="function",W=t=>typeof t>"u",Qe=t=>W(t)||t===null,ir=t=>Lt&&t instanceof SVGElement,si=t=>es.test(t),oi=t=>re(t,"rgb"),ai=t=>re(t,"hsl"),cs=t=>si(t)||oi(t)||ai(t),Ze=t=>!ht.defaults.hasOwnProperty(t),Ue=t=>De(t)?parseFloat(t):t,de=Math.pow,ds=Math.sqrt,fs=Math.sin,ps=Math.cos,Ln=Math.abs,ms=Math.ceil,sr=Math.floor,gs=Math.asin,ys=Math.atan2,be=Math.PI,Bn=Math.round,pt=(t,e,n)=>t<e?e:t>n?n:t,Nr={},Z=(t,e)=>{if(e<0)return t;if(!e)return Bn(t);let n=Nr[e];return n||(n=Nr[e]=10**e),Bn(t*n)/n},_s=(t,e)=>ye(e)?e.reduce((n,r)=>Ln(r-t)<Ln(n-t)?r:n):e?Bn(t/e)*e:t,Ht=(t,e,n)=>t+(e-t)*n,Ae=t=>t===1/0?ei:t===-1/0?-1e12:t,ie=t=>t<H?H:t,vt=t=>ye(t)?[...t]:t,ui=(t,e)=>{const n={...t};for(let r in e){const i=t[r];n[r]=W(i)?e[r]:i}return n},rt=(t,e,n,r="_prev",i="_next")=>{let s=t._head,o=i;for(n&&(s=t._tail,o=r);s;){const u=s[o];e(s),s=u}},Vt=(t,e,n="_prev",r="_next")=>{const i=e[n],s=e[r];i?i[r]=s:t._head=s,s?s[n]=i:t._tail=i,e[n]=null,e[r]=null},ee=(t,e,n,r="_prev",i="_next")=>{let s=t._tail;for(;s&&n&&n(s,e);)s=s[r];const o=s?s[i]:t._head;s?s[i]=e:t._head=e,o?o[r]=e:t._tail=e,e[r]=s,e[i]=o};class li{constructor(e=0){this.deltaTime=0,this._currentTime=e,this._elapsedTime=e,this._startTime=e,this._lastTime=e,this._scheduledTime=0,this._frameDuration=Z(jt/Dn,0),this._fps=Dn,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(e){const n=this._frameDuration,r=+e,i=r<H?H:r,s=Z(jt/i,0);this._fps=i,this._frameDuration=s,this._scheduledTime+=s-n}get speed(){return this._speed}set speed(e){const n=+e;this._speed=n<H?H:n}requestTick(e){const n=this._scheduledTime,r=this._elapsedTime;if(this._elapsedTime+=e-r,r<n)return Tt.NONE;const i=this._frameDuration,s=r-n;return this._scheduledTime+=s<i?i:s,Tt.AUTO}computeDeltaTime(e){const n=e-this._lastTime;return this.deltaTime=n,this._lastTime=e,n}}const tn=(t,e,n,r,i)=>{const s=t.parent,o=t.duration,u=t.completed,l=t.iterationDuration,a=t.iterationCount,c=t._currentIteration,f=t._loopDelay,h=t._reversed,p=t._alternate,d=t._hasChildren,g=t._delay,_=t._currentTime,y=g+l,k=e-g,A=pt(_,-g,o),C=pt(k,-g,o),z=k-_,P=C>0,O=C>=o,B=o<=H,S=i===Tt.FORCE;let N=0,$=k,q=0;if(a>1){const w=~~(C/(l+(O?0:f)));t._currentIteration=pt(w,0,a),O&&t._currentIteration--,N=t._currentIteration%2,$=C%(l+f)||0}const G=h^(p&&N),m=t._ease;let T=O?G?0:o:G?l-$:$;m&&(T=l*m(T/l)||0);const v=(s?s.backwards:k<_)?!G:!!G;if(t._currentTime=k,t._iterationTime=T,t.backwards=v,P&&!t.began?(t.began=!0,!n&&!(s&&(v||!s.began))&&t.onBegin(t)):k<=0&&(t.began=!1),!n&&!d&&P&&t._currentIteration!==c&&t.onLoop(t),S||i===Tt.AUTO&&(e>=g&&e<=y||e<=g&&A>g||e>=y&&A!==o)||T>=y&&A!==o||T<=g&&A>0||e<=A&&A===o&&u||O&&!u&&B){if(P&&(t.computeDeltaTime(A),n||t.onBeforeUpdate(t)),!d){const w=S||(v?z*-1:z)>=ht.tickThreshold,E=t._offset+(s?s._offset:0)+g+T;let b=t._head,R,L,V,ct,X=0;for(;b;){const F=b._composition,it=b._currentTime,J=b._changeDuration,x=b._absoluteStartTime+b._changeDuration,I=b._nextRep,j=b._prevRep,st=F!==_t.none;if((w||(it!==J||E<=x+(I?I._delay:0))&&(it!==0||E>=b._absoluteStartTime))&&(!st||!b._isOverridden&&(!b._isOverlapped||E<=x)&&(!I||I._isOverridden||E<=I._absoluteStartTime)&&(!j||j._isOverridden||E>=j._absoluteStartTime+j._changeDuration+b._delay))){const nt=b._currentTime=pt(T-b._startTime,0,J),tt=b._ease(nt/b._updateDuration),ut=b._modifier,K=b._valueType,ot=b._tweenType,lt=ot===at.OBJECT,ue=K===U.NUMBER,Mt=ue&&lt||tt===0||tt===1?-1:ht.precision;let wt,le;if(ue)wt=le=ut(Z(Ht(b._fromNumber,b._toNumber,tt),Mt));else if(K===U.UNIT)le=ut(Z(Ht(b._fromNumber,b._toNumber,tt),Mt)),wt=`${le}${b._unit}`;else if(K===U.COLOR){const dt=b._fromNumbers,$t=b._toNumbers,It=Z(pt(ut(Ht(dt[0],$t[0],tt)),0,255),0),zt=Z(pt(ut(Ht(dt[1],$t[1],tt)),0,255),0),We=Z(pt(ut(Ht(dt[2],$t[2],tt)),0,255),0),he=pt(ut(Z(Ht(dt[3],$t[3],tt),Mt)),0,1);if(wt=`rgba(${It},${zt},${We},${he})`,st){const Gt=b._numbers;Gt[0]=It,Gt[1]=zt,Gt[2]=We,Gt[3]=he}}else if(K===U.COMPLEX){wt=b._strings[0];for(let dt=0,$t=b._toNumbers.length;dt<$t;dt++){const It=ut(Z(Ht(b._fromNumbers[dt],b._toNumbers[dt],tt),Mt)),zt=b._strings[dt+1];wt+=`${zt?It+zt:It}`,st&&(b._numbers[dt]=It)}}if(st&&(b._number=le),!r&&F!==_t.blend){const dt=b.property;R=b.target,lt?R[dt]=wt:ot===at.ATTRIBUTE?R.setAttribute(dt,wt):(L=R.style,ot===at.TRANSFORM?(R!==V&&(V=R,ct=R[mn]),ct[dt]=wt,X=1):ot===at.CSS?L[dt]=wt:ot===at.CSS_VAR&&L.setProperty(dt,wt)),P&&(q=1)}else b._value=wt}if(X&&b._renderTransforms){let nt=te;for(let tt in ct)nt+=`${ni[tt]}${ct[tt]}) `;L.transform=nt,X=0}b=b._next}!n&&q&&t.onRender(t)}!n&&P&&t.onUpdate(t)}return s&&B?!n&&(s.began&&!v&&k>=o&&!u||v&&k<=H&&u)&&(t.onComplete(t),t.completed=!v):P&&O?a===1/0?t._startTime+=t.duration:t._currentIteration>=a-1&&(t.paused=!0,!u&&!d&&(t.completed=!0,!n&&!(s&&(v||!s.began))&&(t.onComplete(t),t._resolve(t)))):t.completed=!1,q},Zt=(t,e,n,r,i)=>{const s=t._currentIteration;if(tn(t,e,n,r,i),t._hasChildren){const o=t,u=o.backwards,l=r?e:o._iterationTime,a=Ce();let c=0,f=!0;if(!r&&o._currentIteration!==s){const h=o.iterationDuration;rt(o,p=>{if(!u)!p.completed&&!p.backwards&&p._currentTime<p.iterationDuration&&tn(p,h,n,1,Tt.FORCE),p.began=!1,p.completed=!1;else{const d=p.duration,g=p._offset+p._delay,_=g+d;!n&&d<=H&&(!g||_===h)&&p.onComplete(p)}}),n||o.onLoop(o)}rt(o,h=>{const p=Z((l-h._offset)*h._speed,12),d=h._fps<o._fps?h.requestTick(a):i;c+=tn(h,p,n,r,d),!h.completed&&f&&(f=!1)},u),!n&&c&&o.onRender(o),f&&o._currentTime>=o.duration&&(o.paused=!0,o.completed||(o.completed=!0,n||(o.onComplete(o),o._resolve(o))))}},pe={animation:null,update:bt},vs=t=>{let e=pe.animation;return e||(e={duration:H,computeDeltaTime:bt,_offset:0,_delay:0,_head:null,_tail:null},pe.animation=e,pe.update=()=>{t.forEach(n=>{for(let r in n){const i=n[r],s=i._head;if(s){const o=s._valueType,u=o===U.COMPLEX||o===U.COLOR?vt(s._fromNumbers):null;let l=s._fromNumber,a=i._tail;for(;a&&a!==s;){if(u)for(let c=0,f=a._numbers.length;c<f;c++)u[c]+=a._numbers[c];else l+=a._number;a=a._prevAdd}s._toNumber=l,s._toNumbers=u}}}),tn(e,1,1,0,Tt.FORCE)}),e},hi=Lt?requestAnimationFrame:setImmediate,ws=Lt?cancelAnimationFrame:clearImmediate;class bs extends li{constructor(e){super(e),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=ri,this.paused=!!(Lt&&ge.hidden),this.reqId=null}update(){const e=this._currentTime=Ce();if(this.requestTick(e)){this.computeDeltaTime(e);const n=this._speed,r=this._fps;let i=this._head;for(;i;){const s=i._next;i.paused?(Vt(this,i),this._hasChildren=!!this._tail,i._running=!1,i.completed&&!i._cancelled&&i.cancel()):Zt(i,(e-i._startTime)*i._speed*n,0,0,i._fps<r?i.requestTick(e):Tt.AUTO),i=s}pe.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&!this.paused&&(this.reqId=hi(ci)),this}pause(){return this.paused=!0,xs()}resume(){if(this.paused)return this.paused=!1,rt(this,e=>e.resetTime()),this.wake()}get speed(){return this._speed*(ht.timeScale===1?1:jt)}set speed(e){this._speed=e*ht.timeScale,rt(this,n=>n.speed=n._speed)}get timeUnit(){return ht.timeScale===1?"ms":"s"}set timeUnit(e){const n=e==="s",r=n?.001:1;if(ht.timeScale!==r){ht.timeScale=r,ht.tickThreshold=200*r;const i=n?.001:jt;this.defaults.duration*=i,this._speed*=i}}get precision(){return ht.precision}set precision(e){ht.precision=e}}const ft=(()=>{const t=new bs(Ce());return Lt&&(ii.engine=t,ge.addEventListener("visibilitychange",()=>{t.pauseOnDocumentHidden&&(ge.hidden?t.pause():t.resume())})),t})(),ci=()=>{ft._head?(ft.reqId=hi(ci),ft.update()):ft.reqId=0},xs=()=>(ws(ft.reqId),ft.reqId=0,ft),Ts=(t,e,n)=>{const r=t.style.transform;let i;if(r){const s=t[mn];let o;for(;o=us.exec(r);){const u=o[1],l=o[2].slice(1,-1);s[u]=l,u===e&&(i=l,n&&(n[e]=l))}}return r&&!W(i)?i:re(e,"scale")?"1":re(e,"rotate")||re(e,"skew")?"0deg":"0px"};function Er(t){const e=De(t)?ht.root.querySelectorAll(t):t;if(e instanceof NodeList||e instanceof HTMLCollection)return e}function Le(t){if(Qe(t))return[];if(ye(t)){const n=t.flat(1/0),r=[];for(let i=0,s=n.length;i<s;i++){const o=n[i];if(!Qe(o)){const u=Er(o);if(u)for(let l=0,a=u.length;l<a;l++){const c=u[l];if(!Qe(c)){let f=!1;for(let h=0,p=r.length;h<p;h++)if(r[h]===c){f=!0;break}f||r.push(c)}}else{let l=!1;for(let a=0,c=r.length;a<c;a++)if(r[a]===o){l=!0;break}l||r.push(o)}}}return r}if(!Lt)return[t];const e=Er(t);return e?Array.from(e):[t]}function or(t){const e=Le(t),n=e.length;if(n)for(let r=0;r<n;r++){const i=e[r];if(!i[xr]){i[xr]=!0;const s=ir(i);(i.nodeType||s)&&(i[tr]=!0,i[er]=s,i[mn]={})}}return e}const di=t=>{const e=Le(t)[0];if(!(!e||!ir(e)))return e},ks=(t,e=.33)=>n=>{const r=di(t);if(!r)return;const i=n.tagName==="path",s=i?" ":",",o=n[Tr];o&&n.setAttribute(i?"d":"points",o);let u="",l="";if(!e)u=n.getAttribute(i?"d":"points"),l=r.getAttribute(i?"d":"points");else{const a=n.getTotalLength(),c=r.getTotalLength(),f=Math.max(Math.ceil(a*e),Math.ceil(c*e));for(let h=0;h<f;h++){const p=h/(f-1),d=n.getPointAtLength(a*p),g=r.getPointAtLength(c*p),_=i?h===0?"M":"L":"";u+=_+Z(d.x,3)+s+d.y+" ",l+=_+Z(g.x,3)+s+g.y+" "}}return n[Tr]=l,[u,l]};function Ns(t,e,n){const r=getComputedStyle(t).strokeLinecap,i=jt;let s=r;const o=new Proxy(t,{get(u,l){const a=u[l];return l===ti?u:l==="setAttribute"?(...c)=>{if(c[0]==="draw"){const f=c[1].split(" "),h=+f[0],p=+f[1],d=h*-1e3,g=p*i+d,_=i+(h===0&&p===1||h===1&&p===0?0:10)-g;if(r!=="butt"){const y=h===p?"butt":r;s!==y&&(u.setAttribute("stroke-linecap",`${y}`),s=y)}u.setAttribute("stroke-dashoffset",`${d}`),u.setAttribute("stroke-dasharray",`${g} ${_}`)}return Reflect.apply(a,u,c)}:oe(a)?(...c)=>Reflect.apply(a,u,c):a}});return t.getAttribute("pathLength")!==`${i}`&&(t.setAttribute("pathLength",`${i}`),o.setAttribute("draw",`${e} ${n}`)),o}const Es=(t,e=0,n=0)=>{const r=Le(t);return r.forEach((i,s)=>r[s]=Ns(i,e,n)),r},Nn=(t,e,n=0)=>t.getPointAtLength(e+n>=1?e+n:0),En=(t,e)=>n=>{const r=+t.getTotalLength(),i=n[er],s=t.getCTM();return{from:0,to:r,modifier:o=>{if(e==="a"){const u=Nn(t,o,-1),l=Nn(t,o,1);return ys(l.y-u.y,l.x-u.x)*180/be}else{const u=Nn(t,o,0);return e==="x"?i||!s?u.x:u.x*s.a+u.y*s.c+s.e:i||!s?u.y:u.x*s.b+u.y*s.d+s.f}}}},Ss=t=>{const e=di(t);if(e)return{translateX:En(e,"x"),translateY:En(e,"y"),rotate:En(e,"a")}},As=["opacity","rotate","overflow","color"],Cs=(t,e)=>{if(As.includes(e))return!1;if(t.getAttribute(e)||e in t){if(e==="scale"){const n=t.parentNode;return n&&n.tagName==="filter"}return!0}},Xe={morphTo:ks,createMotionPath:Ss,createDrawable:Es},Rs=t=>{const e=ns.exec(t)||rs.exec(t),n=W(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],n]},Ms=t=>{const e=t.length,n=e===4||e===5;return[+("0x"+t[1]+t[n?1:2]),+("0x"+t[n?2:3]+t[n?2:4]),+("0x"+t[n?3:5]+t[n?3:6]),e===5||e===9?+(+("0x"+t[n?4:7]+t[n?4:8])/255).toFixed(3):1]},Sn=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),$s=t=>{const e=is.exec(t)||ss.exec(t),n=+e[1]/360,r=+e[2]/100,i=+e[3]/100,s=W(e[4])?1:+e[4];let o,u,l;if(r===0)o=u=l=i;else{const a=i<.5?i*(1+r):i+r-i*r,c=2*i-a;o=Z(Sn(c,a,n+1/3)*255,0),u=Z(Sn(c,a,n)*255,0),l=Z(Sn(c,a,n-1/3)*255,0)}return[o,u,l,s]},Is=t=>oi(t)?Rs(t):si(t)?Ms(t):ai(t)?$s(t):[0,0,0,1],mt=(t,e)=>W(t)?e:t,Ut=(t,e,n,r,i)=>{if(oe(t)){const s=()=>{const o=t(e,n,r);return isNaN(+o)?o||0:+o};return i&&(i.func=s),s()}else return t},ar=(t,e)=>t[tr]?t[er]&&Cs(t,e)?at.ATTRIBUTE:nr.includes(e)||Oe.get(e)?at.TRANSFORM:re(e,"--")?at.CSS_VAR:e in t.style?at.CSS:e in t?at.OBJECT:at.ATTRIBUTE:at.OBJECT,Sr=(t,e,n)=>{const r=t.style[e];r&&n&&(n[e]=r);const i=r||getComputedStyle(t[ti]||t).getPropertyValue(e);return i==="auto"?"0":i},fe=(t,e,n,r)=>{const i=W(n)?ar(t,e):n;return i===at.OBJECT?t[e]||0:i===at.ATTRIBUTE?t.getAttribute(e):i===at.TRANSFORM?Ts(t,e,r):i===at.CSS_VAR?Sr(t,e,r).trimStart():Sr(t,e,r)},zn=(t,e,n)=>n==="-"?t-e:n==="+"?t+e:t*e,ur=()=>({t:U.NUMBER,n:0,u:null,o:null,d:null,s:null}),At=(t,e)=>{if(e.t=U.NUMBER,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;const n=+t;if(isNaN(n)){let r=t;r[1]==="="&&(e.o=r[0],r=r.slice(2));const i=r.includes(" ")?!1:os.exec(r);if(i)return e.t=U.UNIT,e.n=+i[1],e.u=i[2],e;if(e.o)return e.n=+r,e;if(cs(r))return e.t=U.COLOR,e.d=Is(r),e;{const s=r.match(kr);return e.t=U.COMPLEX,e.d=s?s.map(Number):[],e.s=r.split(kr)||[],e}}else return e.n=n,e},Ar=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=vt(t._toNumbers),e.s=vt(t._strings),e),Et=ur(),un={_rep:new WeakMap,_add:new Map},lr=(t,e,n="_rep")=>{const r=un[n];let i=r.get(t);return i||(i={},r.set(t,i)),i[e]?i[e]:i[e]={_head:null,_tail:null}},Ps=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,en=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=H,t._currentTime=H},fi=(t,e)=>{const n=t._composition;if(n===_t.replace){const r=t._absoluteStartTime;ee(e,t,Ps,"_prevRep","_nextRep");const i=t._prevRep;if(i){const s=i.parent,o=i._absoluteStartTime+i._changeDuration;if(t.parent.id!==s.id&&s.iterationCount>1&&o+(s.duration-s.iterationDuration)>r){en(i);let a=i._prevRep;for(;a&&a.parent.id===s.id;)en(a),a=a._prevRep}const u=r-t._delay;if(o>u){const a=i._startTime,c=o-(a+i._updateDuration);i._changeDuration=u-c-a,i._currentTime=i._changeDuration,i._isOverlapped=1,i._changeDuration<H&&en(i)}let l=!0;if(rt(s,a=>{a._isOverlapped||(l=!1)}),l){const a=s.parent;if(a){let c=!0;rt(a,f=>{f!==s&&rt(f,h=>{h._isOverlapped||(c=!1)})}),c&&a.cancel()}else s.cancel()}}}else if(n===_t.blend){const r=lr(t.target,t.property,"_add"),i=vs(un._add);let s=r._head;s||(s={...t},s._composition=_t.replace,s._updateDuration=H,s._startTime=0,s._numbers=vt(t._fromNumbers),s._number=0,s._next=null,s._prev=null,ee(r,s),ee(i,s));const o=t._toNumber;if(t._fromNumber=s._fromNumber-o,t._toNumber=0,t._numbers=vt(t._fromNumbers),t._number=0,s._fromNumber=o,t._toNumbers){const u=vt(t._toNumbers);u&&u.forEach((l,a)=>{t._fromNumbers[a]=s._fromNumbers[a]-l,t._toNumbers[a]=0}),s._fromNumbers=u}ee(r,t,null,"_prevAdd","_nextAdd")}return t},pi=t=>{const e=t._composition;if(e!==_t.none){const n=t.target,r=t.property,i=un._rep.get(n)[r];if(Vt(i,t,"_prevRep","_nextRep"),e===_t.blend){const s=un._add,o=s.get(n);if(!o)return;const u=o[r],l=pe.animation;Vt(u,t,"_prevAdd","_nextAdd");const a=u._head;if(a&&a===u._tail){Vt(u,a,"_prevAdd","_nextAdd"),Vt(l,a);let c=!0;for(let f in o)if(o[f]._head){c=!1;break}c&&s.delete(n)}}}return t},Cr=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),Wn=t=>(t._cancelled&&(t._hasChildren?rt(t,Wn):rt(t,e=>{e._composition!==_t.none&&fi(e,lr(e.target,e.property))}),t._cancelled=0),t);let Os=0,gn=class extends li{constructor(t={},e=null,n=0){super(0);const{id:r,delay:i,duration:s,reversed:o,alternate:u,loop:l,loopDelay:a,autoplay:c,frameRate:f,playbackRate:h,onComplete:p,onLoop:d,onPause:g,onBegin:_,onBeforeUpdate:y,onUpdate:k}=t,A=e?0:ft._elapsedTime,C=e?e.defaults:ht.defaults,z=oe(i)||W(i)?C.delay:+i,P=oe(s)||W(s)?1/0:+s,O=mt(l,C.loop),B=mt(a,C.loopDelay),S=O===!0||O===1/0||O<0?1/0:O+1;let N=0;if(e)N=n;else{let $=Ce();ft.paused&&(ft.requestTick($),$=ft._elapsedTime),N=$-ft._startTime}this.id=W(r)?++Os:r,this.parent=e,this.duration=Ae((P+B)*S-B)||H,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=_||C.onBegin,this.onBeforeUpdate=y||C.onBeforeUpdate,this.onUpdate=k||C.onUpdate,this.onLoop=d||C.onLoop,this.onPause=g||C.onPause,this.onComplete=p||C.onComplete,this.iterationDuration=P,this.iterationCount=S,this._autoplay=e?!1:mt(c,C.autoplay),this._offset=N,this._delay=z,this._loopDelay=B,this._iterationTime=0,this._currentIteration=0,this._resolve=bt,this._running=!1,this._reversed=+mt(o,C.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=mt(u,C.alternate),this._prev=null,this._next=null,this._elapsedTime=A,this._startTime=A,this._lastTime=A,this._fps=mt(f,C.frameRate),this._speed=mt(h,C.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(1).play()}get currentTime(){return pt(Z(this._currentTime,ht.precision),-this._delay,this.duration)}set currentTime(t){const e=this.paused;this.pause().seek(+t),e||this.resume()}get iterationCurrentTime(){return Z(this._iterationTime,ht.precision)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return pt(Z(this._currentTime/this.duration,5),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return pt(Z(this._iterationTime/this.iterationDuration,5),0,1)}set iterationProgress(t){const e=this.iterationDuration;this.currentTime=e*this._currentIteration+e*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*pt(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=0){return Wn(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,Zt(this,0,1,t,Tt.FORCE),Cr(this),this._hasChildren&&rt(this,Cr),this}init(t=0){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&Zt(this,this.duration,1,t,Tt.FORCE),this.reset(t);const e=this._autoplay;return e===!0?this.resume():e&&!W(e.linked)&&e.link(this),this}resetTime(){const t=1/(this._speed*ft._speed);return this._startTime=Ce()-(this._currentTime+this._delay)*t,this}pause(){return this.paused?this:(this.paused=!0,this.onPause(this),this)}resume(){return this.paused?(this.paused=!1,this.duration<=H&&!this._hasChildren?Zt(this,H,0,0,Tt.FORCE):(this._running||(ee(ft,this),ft._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,ft.wake()),this):this}restart(){return this.reset(0).resume()}seek(t,e=0,n=0){Wn(this),this.completed=!1;const r=this.paused;return this.paused=!0,Zt(this,t+this._delay,~~e,~~n,Tt.AUTO),r?this:this.resume()}alternate(){const t=this._reversed,e=this.iterationCount,n=this.iterationDuration,r=e===1/0?sr(ei/n):e;return this._reversed=+(this._alternate&&!(r%2)?t:!t),e===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(n*r-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?rt(this,t=>t.cancel(),!0):rt(this,pi),this._cancelled=1,this.pause()}stretch(t){const e=this.duration;if(e===ie(t))return this;const n=t/e,r=t<=H;return this.duration=r?H:ie(Ae(Z(e*n,12))),this.iterationDuration=r?H:ie(Ae(Z(this.iterationDuration*n,12))),this._offset*=n,this._delay*=n,this._loopDelay*=n,this}revert(){Zt(this,0,1,0,Tt.AUTO);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(t=bt){const e=this.then,n=()=>{this.then=null,t(this),this.then=e,this._resolve=bt};return new Promise(r=>(this._resolve=()=>r(n()),this.completed&&this._resolve(),this))}};const _e=t=>t,mi=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Ds=(t,e,n)=>{let r=0,i=1,s,o,u=0;do o=r+(i-r)/2,s=mi(o,e,n)-t,s>0?i=o:r=o;while(Ln(s)>1e-7&&++u<100);return o},Ls=(t=.5,e=0,n=.5,r=1)=>t===e&&n===r?_e:i=>i===0||i===1?i:mi(Ds(i,t,n),e,r),Bs=(t=10,e)=>{const n=e?ms:sr;return r=>n(pt(r,0,1)*t)*(1/t)},gi=(...t)=>{const e=t.length;if(!e)return _e;const n=e-1,r=t[0],i=t[n],s=[0],o=[Ue(r)];for(let u=1;u<n;u++){const l=t[u],a=De(l)?l.trim().split(" "):[l],c=a[0],f=a[1];s.push(W(f)?u/n:Ue(f)/100),o.push(Ue(c))}return o.push(Ue(i)),s.push(1),function(u){for(let l=1,a=s.length;l<a;l++){const c=s[l];if(u<=c){const f=s[l-1],h=o[l-1];return h+(o[l]-h)*(u-f)/(c-f)}}return o[o.length-1]}},zs=(t=10,e=1)=>{const n=[0],r=t-1;for(let i=1;i<r;i++){const s=n[i-1],o=i/r,u=(i+1)/r,l=o+(u-o)*Math.random(),a=o*(1-e)+l*e;n.push(pt(a,s,1))}return n.push(1),gi(...n)},Ws=be/2,Rr=be*2,xe=(t=1.68)=>e=>de(e,+t),Mr={[te]:xe,Quad:xe(2),Cubic:xe(3),Quart:xe(4),Quint:xe(5),Sine:t=>1-ps(t*Ws),Circ:t=>1-ds(1-t*t),Expo:t=>t?de(2,10*t-10):0,Bounce:t=>{let e,n=4;for(;t<((e=de(2,--n))-1)/11;);return 1/de(4,3-n)-7.5625*de((e*3-2)/22-t,2)},Back:(t=1.70158)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{const n=pt(+t,1,10),r=pt(+e,H,2),i=r/Rr*gs(1/n),s=Rr/r;return o=>o===0||o===1?o:-n*de(2,-10*(1-o))*fs((1-o-i)*s)}},qn={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(e*2)/2:1-t(e*-2+2)/2,outIn:t=>e=>e<.5?(1-t(1-e*2))/2:(t(e*2-1)+1)/2},qs=(t,e,n)=>{if(n[t])return n[t];if(t.indexOf("(")<=-1){const r=qn[t]||t.includes("Back")||t.includes("Elastic")?e[t]():e[t];return r?n[t]=r:_e}else{const r=t.slice(0,-1).split("("),i=e[r[0]];return i?n[t]=i(...r[1].split(",")):_e}},Ys=(()=>{const t={linear:gi,irregular:zs,steps:Bs,cubicBezier:Ls};for(let e in qn)for(let n in Mr){const r=Mr[n],i=qn[e];t[e+n]=n===te||n==="Back"||n==="Elastic"?(s,o)=>i(r(s,o)):i(r)}return t})(),Us={linear:_e},Yn=t=>oe(t)?t:De(t)?qs(t,Ys,Us):_e,$r={},hr=(t,e,n)=>{if(n===at.TRANSFORM)return Oe.get(t)||t;if(n===at.CSS||n===at.ATTRIBUTE&&ir(e)&&t in e.style){const r=$r[t];if(r)return r;{const i=t&&hs(t);return $r[t]=i,i}}else return t},An={deg:1,rad:180/be,turn:360},Ir={},yi=(t,e,n,r=!1)=>{const i=e.u,s=e.n;if(e.t===U.UNIT&&i===n)return e;const o=s+i+n,u=Ir[o];if(!W(u)&&!r)e.n=u;else{let l;if(i in An)l=s*An[i]/An[n];else{const a=t.cloneNode(),c=t.parentNode,f=c&&c!==ge?c:ge.body;f.appendChild(a);const h=a.style;h.width=100+i;const p=a.offsetWidth||100;h.width=100+n;const d=a.offsetWidth||100,g=p/d;f.removeChild(a),l=g*s}e.n=l,Ir[o]=l}return e.t,e.u=n,e},yn=t=>{if(t._hasChildren)rt(t,yn,!0);else{const e=t;e.pause(),rt(e,n=>{const r=n.property,i=n.target;if(i[tr]){const s=i.style,o=e._inlineStyles[r];if(n._tweenType===at.TRANSFORM){const u=i[mn];if(W(o)||o===te?delete u[r]:u[r]=o,n._renderTransforms)if(!Object.keys(u).length)s.removeProperty("transform");else{let l=te;for(let a in u)l+=ni[a]+u[a]+") ";s.transform=l}}else W(o)||o===te?s.removeProperty(r):s[r]=o;e._tail===n&&e.targets.forEach(u=>{u.getAttribute&&u.getAttribute("style")===te&&u.removeAttribute("style")})}})}return t},D=ur(),Y=ur(),He={func:null},Fe=[null],ce=[null,null],Ve={to:null};let Xs=0,Xt,Pt;const Hs=(t,e)=>{const n={};if(ye(t)){const r=[].concat(...t.map(i=>Object.keys(i))).filter(Ze);for(let i=0,s=r.length;i<s;i++){const o=r[i],u=t.map(l=>{const a={};for(let c in l){const f=l[c];Ze(c)?c===o&&(a.to=f):a[c]=f}return a});n[o]=u}}else{const r=mt(e.duration,ht.defaults.duration);Object.keys(t).map(i=>({o:parseFloat(i)/100,p:t[i]})).sort((i,s)=>i.o-s.o).forEach(i=>{const s=i.o,o=i.p;for(let u in o)if(Ze(u)){let l=n[u];l||(l=n[u]=[]);const a=s*r;let c=l.length,f=l[c-1];const h={to:o[u]};let p=0;for(let d=0;d<c;d++)p+=l[d].duration;c===1&&(h.from=f.to),o.ease&&(h.ease=o.ease),h.duration=a-(c?p:0),l.push(h)}return i});for(let i in n){const s=n[i];let o;for(let u=0,l=s.length;u<l;u++){const a=s[u],c=a.ease;a.ease=o||void 0,o=c}s[0].duration||s.shift()}}return n};class _i extends gn{constructor(e,n,r,i,s=!1,o=0,u=0){super(n,r,i);const l=or(e),a=l.length,c=n.keyframes,f=c?ui(Hs(c,n),n):n,{delay:h,duration:p,ease:d,playbackEase:g,modifier:_,composition:y,onRender:k}=f,A=r?r.defaults:ht.defaults,C=mt(g,A.playbackEase),z=C?Yn(C):null,P=!W(d)&&!W(d.ease),O=P?d.ease:mt(d,z?"linear":A.ease),B=P?d.duration:mt(p,A.duration),S=mt(h,A.delay),N=_||A.modifier,$=W(y)&&a>=jt?_t.none:W(y)?A.composition:y,q={},G=this._offset+(r?r._offset:0);let m=NaN,T=NaN,v=0,w=0;for(let E=0;E<a;E++){const b=l[E],R=o||E,L=u||a;let V=NaN,ct=NaN;for(let X in f)if(Ze(X)){const F=ar(b,X),it=hr(X,b,F);let J=f[X];const x=ye(J);if(s&&!x&&(ce[0]=J,ce[1]=J,J=ce),x){const ut=J.length,K=!Se(J[0]);ut===2&&K?(Ve.to=J,Fe[0]=Ve,Xt=Fe):ut>2&&K?(Xt=[],J.forEach((ot,lt)=>{lt?lt===1?(ce[1]=ot,Xt.push(ce)):Xt.push(ot):ce[0]=ot})):Xt=J}else Fe[0]=J,Xt=Fe;let I=null,j=null,st=NaN,nt=0,tt=0;for(let ut=Xt.length;tt<ut;tt++){const K=Xt[tt];Se(K)?Pt=K:(Ve.to=K,Pt=Ve),He.func=null;const ot=Ut(Pt.to,b,R,L,He);let lt;Se(ot)&&!W(ot.to)?(Pt=ot,lt=ot.to):lt=ot;const ue=Ut(Pt.from,b,R,L),Mt=Pt.ease,wt=!W(Mt)&&!W(Mt.ease),le=wt?Mt.ease:Mt||O,dt=wt?Mt.duration:Ut(mt(Pt.duration,ut>1?Ut(B,b,R,L)/ut:B),b,R,L),$t=Ut(mt(Pt.delay,tt?0:S),b,R,L),It=Ut(mt(Pt.composition,$),b,R,L),zt=rr(It)?It:_t[It],We=Pt.modifier||N,he=!W(ue),Gt=!W(lt),qe=ye(lt),Ji=qe||he&&Gt,bn=j?nt+$t:$t,xn=G+bn;!w&&(he||qe)&&(w=1);let Nt=j;if(zt!==_t.none){I||(I=lr(b,it));let et=I._head;for(;et&&!et._isOverridden&&et._absoluteStartTime<=xn;)if(Nt=et,et=et._nextRep,et&&et._absoluteStartTime>=xn)for(;et;)en(et),et=et._nextRep}if(Ji?(At(qe?Ut(lt[0],b,R,L):ue,D),At(qe?Ut(lt[1],b,R,L,He):lt,Y),D.t===U.NUMBER&&(Nt?Nt._valueType===U.UNIT&&(D.t=U.UNIT,D.u=Nt._unit):(At(fe(b,it,F,q),Et),Et.t===U.UNIT&&(D.t=U.UNIT,D.u=Et.u)))):(Gt?At(lt,Y):j?Ar(j,Y):At(r&&Nt&&Nt.parent.parent===r?Nt._value:fe(b,it,F,q),Y),he?At(ue,D):j?Ar(j,D):At(r&&Nt&&Nt.parent.parent===r?Nt._value:fe(b,it,F,q),D)),D.o&&(D.n=zn(Nt?Nt._toNumber:At(fe(b,it,F,q),Et).n,D.n,D.o)),Y.o&&(Y.n=zn(D.n,Y.n,Y.o)),D.t!==Y.t){if(D.t===U.COMPLEX||Y.t===U.COMPLEX){const et=D.t===U.COMPLEX?D:Y,gt=D.t===U.COMPLEX?Y:D;gt.t=U.COMPLEX,gt.s=vt(et.s),gt.d=et.d.map(()=>gt.n)}else if(D.t===U.UNIT||Y.t===U.UNIT){const et=D.t===U.UNIT?D:Y,gt=D.t===U.UNIT?Y:D;gt.t=U.UNIT,gt.u=et.u}else if(D.t===U.COLOR||Y.t===U.COLOR){const et=D.t===U.COLOR?D:Y,gt=D.t===U.COLOR?Y:D;gt.t=U.COLOR,gt.s=et.s,gt.d=[0,0,0,1]}}if(D.u!==Y.u){let et=Y.u?D:Y;et=yi(b,et,Y.u?Y.u:D.u,!1)}if(Y.d&&D.d&&Y.d.length!==D.d.length){const et=D.d.length>Y.d.length?D:Y,gt=et===D?Y:D;gt.d=et.d.map((yh,br)=>W(gt.d[br])?0:gt.d[br]),gt.s=vt(et.s)}const Tn=Z(+dt||H,12),Ye={parent:this,id:Xs++,property:it,target:b,_value:null,_func:He.func,_ease:Yn(le),_fromNumbers:vt(D.d),_toNumbers:vt(Y.d),_strings:vt(Y.s),_fromNumber:D.n,_toNumber:Y.n,_numbers:vt(D.d),_number:D.n,_unit:Y.u,_modifier:We,_currentTime:0,_startTime:bn,_delay:+$t,_updateDuration:Tn,_changeDuration:Tn,_absoluteStartTime:xn,_tweenType:F,_valueType:Y.t,_composition:zt,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};zt!==_t.none&&fi(Ye,I),isNaN(st)&&(st=Ye._startTime),nt=Z(bn+Tn,12),j=Ye,v++,ee(this,Ye)}(isNaN(T)||st<T)&&(T=st),(isNaN(m)||nt>m)&&(m=nt),F===at.TRANSFORM&&(V=v-tt,ct=v)}if(!isNaN(V)){let X=0;rt(this,F=>{X>=V&&X<ct&&(F._renderTransforms=1,F._composition===_t.blend&&rt(pe.animation,it=>{it.id===F.id&&(it._renderTransforms=1)})),X++})}}a||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),T?(rt(this,E=>{E._startTime-E._delay||(E._delay-=T),E._startTime-=T}),m-=T):T=0,m||(m=H,this.iterationCount=0),this.targets=l,this.duration=m===H?H:Ae((m+this._loopDelay)*this.iterationCount-this._loopDelay)||H,this.onRender=k||A.onRender,this._ease=z,this._delay=T,this.iterationDuration=m,this._inlineStyles=q,!this._autoplay&&w&&this.onRender(this)}stretch(e){const n=this.duration;if(n===ie(e))return this;const r=e/n;return rt(this,i=>{i._updateDuration=ie(Z(i._updateDuration*r,12)),i._changeDuration=ie(Z(i._changeDuration*r,12)),i._currentTime*=r,i._startTime*=r,i._absoluteStartTime*=r}),super.stretch(e)}refresh(){return rt(this,e=>{const n=fe(e.target,e.property,e._tweenType);At(n,Et),e._fromNumbers=vt(Et.d),e._fromNumber=Et.n,e._func&&(At(e._func(),Y),e._toNumbers=vt(Y.d),e._strings=vt(Y.s),e._toNumber=Y.n)}),this}revert(){return super.revert(),yn(this)}then(e){return super.then(e)}}const Fs=["x","y","z"];[...Fs,...nr.filter(t=>["X","Y","Z"].some(e=>t.endsWith(e)))];Lt&&(W(CSS)||Object.hasOwnProperty.call(CSS,"registerProperty"));const Pr={_head:null,_tail:null},Vs=(t,e,n)=>{let r=Pr._head;for(;r;){const i=r._next,s=r.$el===t,o=!e||r.property===e,u=!n||r.parent===n;if(s&&o&&u){const l=r.animation;try{l.commitStyles()}catch{}l.cancel(),Vt(Pr,r);const a=r.parent;a&&(a._completed++,a.animations.length===a._completed&&(a.completed=!0,a.muteCallbacks||(a.paused=!0,a.onComplete(a),a._resolve(a))))}r=i}},js=(t=bt)=>new gn({duration:1*ht.timeScale,onComplete:t},null,0).resume();function Gs(t,e,n){const r=or(t);if(!r.length)return;const[i]=r,s=ar(i,e),o=hr(e,i,s);let u=fe(i,o);if(W(n))return u;if(At(u,Et),Et.t===U.NUMBER||Et.t===U.UNIT){if(n===!1)return Et.n;{const l=yi(i,Et,n,!1);return`${Z(l.n,ht.precision)}${l.u}`}}}const Js=(t,e)=>{if(!W(e))return e.duration=H,e.composition=mt(e.composition,_t.none),new _i(t,e,null,0,!0).resume()},Or=(t,e,n)=>{let r=!1;return rt(e,i=>{const s=i.target;if(t.includes(s)){const o=i.property,u=i._tweenType,l=hr(n,s,u);(!l||l&&l===o)&&(i.parent._tail===i&&i._tweenType===at.TRANSFORM&&i._prev&&i._prev._tweenType===at.TRANSFORM&&(i._prev._renderTransforms=1),Vt(e,i),pi(i),r=!0)}},!0),r},cr=(t,e,n)=>{const r=Le(t),i=e||ft,s=e&&e.controlAnimation&&e;for(let u=0,l=r.length;u<l;u++){const a=r[u];Vs(a,n,s)}let o;if(i._hasChildren){let u=0;rt(i,l=>{if(!l._hasChildren)if(o=Or(r,l,n),o&&!l._head)l.cancel(),Vt(i,l);else{const a=l._offset+l._delay+l.duration;a>u&&(u=a)}l._head?cr(t,l,n):l._hasChildren=!1},!0),W(i.iterationDuration)||(i.iterationDuration=u)}else o=Or(r,i,n);return o&&!i._head&&(i._hasChildren=!1,i.cancel&&i.cancel()),r},dr=(t,e,n)=>{const r=10**(n||0);return sr((Math.random()*(e-t+1/r)+t)*r)/r},Ks=t=>t[dr(0,t.length-1)],Qs=t=>{let e=t.length,n,r;for(;e;)r=dr(0,--e),n=t[e],t[e]=t[r],t[r]=n;return t},Zs=(t,e)=>(+t).toFixed(e),to=(t,e,n)=>`${t}`.padStart(e,n),eo=(t,e,n)=>`${t}`.padEnd(e,n),no=(t,e,n)=>((t-e)%(n-e)+(n-e))%(n-e)+e,ro=(t,e,n,r,i)=>r+(t-e)/(n-e)*(i-r),io=t=>t*be/180,so=t=>t*180/be,oo=(t,e,n,r)=>{let i=jt/ht.defaults.frameRate;if(r!==!1){const o=r||ft._hasChildren&&ft;o&&o.deltaTime&&(i=o.deltaTime)}const s=1-Math.exp(-n*i*.1);return n?n===1?e:(1-s)*t+s*e:t},ao=(t,e=0)=>(...n)=>e?r=>t(...n,r):r=>t(r,...n),vi=t=>(...e)=>{const n=t(...e);return new Proxy(bt,{apply:(r,i,[s])=>n(s),get:(r,i)=>vi((...s)=>{const o=wi[i](...s);return u=>o(n(u))})})},St=(t,e=0)=>(...n)=>(n.length<t.length?vi(ao(t,e)):t)(...n),wi={$:or,get:Gs,set:Js,remove:cr,cleanInlineStyles:yn,random:dr,randomPick:Ks,shuffle:Qs,lerp:oo,sync:js,clamp:St(pt),round:St(Z),snap:St(_s),wrap:St(no),interpolate:St(Ht,1),mapRange:St(ro),roundPad:St(Zs),padStart:St(to),padEnd:St(eo),degToRad:St(io),radToDeg:St(so)},uo=(t,e)=>{if(re(e,"<")){const n=e[1]==="<",r=t._tail,i=r?r._offset+r._delay:0;return n?i:i+r.duration}},Cn=(t,e)=>{let n=t.iterationDuration;if(n===H&&(n=0),W(e))return n;if(rr(+e))return+e;const r=e,i=t?t.labels:null,s=!Qe(i),o=uo(t,r),u=!W(o),l=ls.exec(r);if(l){const a=l[0],c=r.split(a),f=s&&c[0]?i[c[0]]:n,h=u?o:s?f:n,p=+c[1];return zn(h,p,a[0])}else return u?o:s?W(i[r])?n:i[r]:n};function lo(t){return Ae((t.iterationDuration+t._loopDelay)*t.iterationCount-t._loopDelay)||H}function Rn(t,e,n,r,i,s){const o=rr(t.duration)&&t.duration<=H?n-H:n;Zt(e,o,1,1,Tt.AUTO);const u=r?new _i(r,t,e,o,!1,i,s):new gn(t,e,o);return u.init(1),ee(e,u),rt(e,l=>{const a=l._offset+l._delay+l.duration;a>e.iterationDuration&&(e.iterationDuration=a)}),e.duration=lo(e),e}class ho extends gn{constructor(e={}){super(e,null,0),this.duration=0,this.labels={};const n=e.defaults,r=ht.defaults;this.defaults=n?ui(n,r):r,this.onRender=e.onRender||r.onRender;const i=mt(e.playbackEase,r.playbackEase);this._ease=i?Yn(i):null,this.iterationDuration=0}add(e,n,r){const i=Se(n),s=Se(e);if(i||s){if(this._hasChildren=!0,i){const o=n;if(oe(r)){const u=r,l=Le(e),a=this.duration,c=this.iterationDuration,f=o.id;let h=0;const p=l.length;l.forEach(d=>{const g={...o};this.duration=a,this.iterationDuration=c,W(f)||(g.id=f+"-"+h),Rn(g,this,u(d,h,p,this),d,h,p),h++})}else Rn(o,this,Cn(this,r),e)}else Rn(e,this,Cn(this,n));return this.init(1)}}sync(e,n){if(W(e)||e&&W(e.pause))return this;e.pause();const r=+(e.effect?e.effect.getTiming().duration:e.duration);return this.add(e,{currentTime:[0,r],duration:r,ease:"linear"},n)}set(e,n,r){return W(n)?this:(n.duration=H,n.composition=_t.replace,this.add(e,n,r))}call(e,n){return W(e)||e&&!oe(e)?this:this.add({duration:0,onComplete:()=>e(this)},n)}label(e,n){return W(e)||e&&!De(e)?this:(this.labels[e]=Cn(this,n),this)}remove(e,n){return cr(e,this,n),this}stretch(e){const n=this.duration;if(n===ie(e))return this;const r=e/n,i=this.labels;rt(this,s=>{s.stretch(s.duration*r)});for(let s in i)i[s]*=r;return super.stretch(e)}refresh(){return rt(this,e=>{e.refresh&&e.refresh()}),this}revert(){return super.revert(),rt(this,e=>e.revert,!0),yn(this)}then(e){return super.then(e)}}const co=t=>new ho(t).init();function fo(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function po(){return this.eachAfter(fo)}function mo(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function go(t,e){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function yo(t,e){for(var n=this,r=[n],i=[],s,o,u,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,u=s.length;o<u;++o)r.push(s[o]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function _o(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function vo(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function wo(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function bo(t){for(var e=this,n=xo(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function xo(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function To(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function ko(){return Array.from(this)}function No(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Eo(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*So(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function qt(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Ro)):e===void 0&&(e=Co);for(var n=new Re(t),r,i=[n],s,o,u,l;r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,u=l-1;u>=0;--u)i.push(s=o[u]=new Re(o[u])),s.parent=r,s.depth=r.depth+1;return n.eachBefore($o)}function Ao(){return qt(this).eachBefore(Mo)}function Co(t){return t.children}function Ro(t){return Array.isArray(t)?t[1]:null}function Mo(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function $o(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Re(t){this.data=t,this.depth=this.height=0,this.parent=null}Re.prototype=qt.prototype={constructor:Re,count:po,each:mo,eachAfter:yo,eachBefore:go,find:_o,sum:vo,sort:wo,path:bo,ancestors:To,descendants:ko,leaves:No,links:Eo,copy:Ao,[Symbol.iterator]:So};function Io(t,e){return t.parent===e.parent?1:2}function Mn(t){var e=t.children;return e?e[0]:t.t}function $n(t){var e=t.children;return e?e[e.length-1]:t.t}function Po(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Oo(t){for(var e=0,n=0,r=t.children,i=r.length,s;--i>=0;)s=r[i],s.z+=e,s.m+=e,e+=s.s+(n+=s.c)}function Do(t,e,n){return t.a.parent===e.parent?t.a:n}function nn(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}nn.prototype=Object.create(Re.prototype);function Lo(t){for(var e=new nn(t,0),n,r=[e],i,s,o,u;n=r.pop();)if(s=n._.children)for(n.children=new Array(u=s.length),o=u-1;o>=0;--o)r.push(i=n.children[o]=new nn(s[o],o)),i.parent=n;return(e.parent=new nn(null,0)).children=[e],e}function Bo(){var t=Io,e=1,n=1,r=null;function i(a){var c=Lo(a);if(c.eachAfter(s),c.parent.m=-c.z,c.eachBefore(o),r)a.eachBefore(l);else{var f=a,h=a,p=a;a.eachBefore(function(k){k.x<f.x&&(f=k),k.x>h.x&&(h=k),k.depth>p.depth&&(p=k)});var d=f===h?1:t(f,h)/2,g=d-f.x,_=e/(h.x+d+g),y=n/(p.depth||1);a.eachBefore(function(k){k.x=(k.x+g)*_,k.y=k.depth*y})}return a}function s(a){var c=a.children,f=a.parent.children,h=a.i?f[a.i-1]:null;if(c){Oo(a);var p=(c[0].z+c[c.length-1].z)/2;h?(a.z=h.z+t(a._,h._),a.m=a.z-p):a.z=p}else h&&(a.z=h.z+t(a._,h._));a.parent.A=u(a,h,a.parent.A||f[0])}function o(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function u(a,c,f){if(c){for(var h=a,p=a,d=c,g=h.parent.children[0],_=h.m,y=p.m,k=d.m,A=g.m,C;d=$n(d),h=Mn(h),d&&h;)g=Mn(g),p=$n(p),p.a=a,C=d.z+k-h.z-_+t(d._,h._),C>0&&(Po(Do(d,a,f),a,C),_+=C,y+=C),k+=d.m,_+=h.m,A+=g.m,y+=p.m;d&&!$n(p)&&(p.t=d,p.m+=k-y),h&&!Mn(g)&&(g.t=h,g.m+=_-A,f=a)}return f}function l(a){a.x*=e,a.y=a.depth*n}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}var Un="http://www.w3.org/1999/xhtml";const Dr={svg:"http://www.w3.org/2000/svg",xhtml:Un,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _n(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Dr.hasOwnProperty(e)?{space:Dr[e],local:t}:t}function zo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Un&&e.documentElement.namespaceURI===Un?e.createElement(t):e.createElementNS(n,t)}}function Wo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function bi(t){var e=_n(t);return(e.local?Wo:zo)(e)}function qo(){}function fr(t){return t==null?qo:function(){return this.querySelector(t)}}function Yo(t){typeof t!="function"&&(t=fr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,u=r[i]=new Array(o),l,a,c=0;c<o;++c)(l=s[c])&&(a=t.call(l,l.__data__,c,s))&&("__data__"in l&&(a.__data__=l.__data__),u[c]=a);return new kt(r,this._parents)}function Uo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Xo(){return[]}function xi(t){return t==null?Xo:function(){return this.querySelectorAll(t)}}function Ho(t){return function(){return Uo(t.apply(this,arguments))}}function Fo(t){typeof t=="function"?t=Ho(t):t=xi(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],u=o.length,l,a=0;a<u;++a)(l=o[a])&&(r.push(t.call(l,l.__data__,a,o)),i.push(l));return new kt(r,i)}function Ti(t){return function(){return this.matches(t)}}function ki(t){return function(e){return e.matches(t)}}var Vo=Array.prototype.find;function jo(t){return function(){return Vo.call(this.children,t)}}function Go(){return this.firstElementChild}function Jo(t){return this.select(t==null?Go:jo(typeof t=="function"?t:ki(t)))}var Ko=Array.prototype.filter;function Qo(){return Array.from(this.children)}function Zo(t){return function(){return Ko.call(this.children,t)}}function ta(t){return this.selectAll(t==null?Qo:Zo(typeof t=="function"?t:ki(t)))}function ea(t){typeof t!="function"&&(t=Ti(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,u=r[i]=[],l,a=0;a<o;++a)(l=s[a])&&t.call(l,l.__data__,a,s)&&u.push(l);return new kt(r,this._parents)}function Ni(t){return new Array(t.length)}function na(){return new kt(this._enter||this._groups.map(Ni),this._parents)}function ln(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ln.prototype={constructor:ln,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ra(t){return function(){return t}}function ia(t,e,n,r,i,s){for(var o=0,u,l=e.length,a=s.length;o<a;++o)(u=e[o])?(u.__data__=s[o],r[o]=u):n[o]=new ln(t,s[o]);for(;o<l;++o)(u=e[o])&&(i[o]=u)}function sa(t,e,n,r,i,s,o){var u,l,a=new Map,c=e.length,f=s.length,h=new Array(c),p;for(u=0;u<c;++u)(l=e[u])&&(h[u]=p=o.call(l,l.__data__,u,e)+"",a.has(p)?i[u]=l:a.set(p,l));for(u=0;u<f;++u)p=o.call(t,s[u],u,s)+"",(l=a.get(p))?(r[u]=l,l.__data__=s[u],a.delete(p)):n[u]=new ln(t,s[u]);for(u=0;u<c;++u)(l=e[u])&&a.get(h[u])===l&&(i[u]=l)}function oa(t){return t.__data__}function aa(t,e){if(!arguments.length)return Array.from(this,oa);var n=e?sa:ia,r=this._parents,i=this._groups;typeof t!="function"&&(t=ra(t));for(var s=i.length,o=new Array(s),u=new Array(s),l=new Array(s),a=0;a<s;++a){var c=r[a],f=i[a],h=f.length,p=ua(t.call(c,c&&c.__data__,a,r)),d=p.length,g=u[a]=new Array(d),_=o[a]=new Array(d),y=l[a]=new Array(h);n(c,f,g,_,y,p,e);for(var k=0,A=0,C,z;k<d;++k)if(C=g[k]){for(k>=A&&(A=k+1);!(z=_[A])&&++A<d;);C._next=z||null}}return o=new kt(o,r),o._enter=u,o._exit=l,o}function ua(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function la(){return new kt(this._exit||this._groups.map(Ni),this._parents)}function ha(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function ca(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),u=new Array(i),l=0;l<o;++l)for(var a=n[l],c=r[l],f=a.length,h=u[l]=new Array(f),p,d=0;d<f;++d)(p=a[d]||c[d])&&(h[d]=p);for(;l<i;++l)u[l]=n[l];return new kt(u,this._parents)}function da(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function fa(t){t||(t=pa);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],u=o.length,l=i[s]=new Array(u),a,c=0;c<u;++c)(a=o[c])&&(l[c]=a);l.sort(e)}return new kt(i,this._parents).order()}function pa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ma(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ga(){return Array.from(this)}function ya(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function _a(){let t=0;for(const e of this)++t;return t}function va(){return!this.node()}function wa(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,u;s<o;++s)(u=i[s])&&t.call(u,u.__data__,s,i);return this}function ba(t){return function(){this.removeAttribute(t)}}function xa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ta(t,e){return function(){this.setAttribute(t,e)}}function ka(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Na(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ea(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Sa(t,e){var n=_n(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?xa:ba:typeof e=="function"?n.local?Ea:Na:n.local?ka:Ta)(n,e))}function Ei(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Aa(t){return function(){this.style.removeProperty(t)}}function Ca(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ra(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ma(t,e,n){return arguments.length>1?this.each((e==null?Aa:typeof e=="function"?Ra:Ca)(t,e,n??"")):ve(this.node(),t)}function ve(t,e){return t.style.getPropertyValue(e)||Ei(t).getComputedStyle(t,null).getPropertyValue(e)}function $a(t){return function(){delete this[t]}}function Ia(t,e){return function(){this[t]=e}}function Pa(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Oa(t,e){return arguments.length>1?this.each((e==null?$a:typeof e=="function"?Pa:Ia)(t,e)):this.node()[t]}function Si(t){return t.trim().split(/^|\s+/)}function pr(t){return t.classList||new Ai(t)}function Ai(t){this._node=t,this._names=Si(t.getAttribute("class")||"")}Ai.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ci(t,e){for(var n=pr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ri(t,e){for(var n=pr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Da(t){return function(){Ci(this,t)}}function La(t){return function(){Ri(this,t)}}function Ba(t,e){return function(){(e.apply(this,arguments)?Ci:Ri)(this,t)}}function za(t,e){var n=Si(t+"");if(arguments.length<2){for(var r=pr(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ba:e?Da:La)(n,e))}function Wa(){this.textContent=""}function qa(t){return function(){this.textContent=t}}function Ya(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ua(t){return arguments.length?this.each(t==null?Wa:(typeof t=="function"?Ya:qa)(t)):this.node().textContent}function Xa(){this.innerHTML=""}function Ha(t){return function(){this.innerHTML=t}}function Fa(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Va(t){return arguments.length?this.each(t==null?Xa:(typeof t=="function"?Fa:Ha)(t)):this.node().innerHTML}function ja(){this.nextSibling&&this.parentNode.appendChild(this)}function Ga(){return this.each(ja)}function Ja(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ka(){return this.each(Ja)}function Qa(t){var e=typeof t=="function"?t:bi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Za(){return null}function tu(t,e){var n=typeof t=="function"?t:bi(t),r=e==null?Za:typeof e=="function"?e:fr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function eu(){var t=this.parentNode;t&&t.removeChild(this)}function nu(){return this.each(eu)}function ru(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function iu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function su(t){return this.select(t?iu:ru)}function ou(t){return arguments.length?this.property("__data__",t):this.node().__data__}function au(t){return function(e){t.call(this,e,this.__data__)}}function uu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function lu(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function hu(t,e,n){return function(){var r=this.__on,i,s=au(e);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function cu(t,e,n){var r=uu(t+""),i,s=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,a=u.length,c;l<a;++l)for(i=0,c=u[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(u=e?hu:lu,i=0;i<s;++i)this.each(u(r[i],e,n));return this}function Mi(t,e,n){var r=Ei(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function du(t,e){return function(){return Mi(this,t,e)}}function fu(t,e){return function(){return Mi(this,t,e.apply(this,arguments))}}function pu(t,e){return this.each((typeof e=="function"?fu:du)(t,e))}function*mu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var $i=[null];function kt(t,e){this._groups=t,this._parents=e}function Be(){return new kt([[document.documentElement]],$i)}function gu(){return this}kt.prototype=Be.prototype={constructor:kt,select:Yo,selectAll:Fo,selectChild:Jo,selectChildren:ta,filter:ea,data:aa,enter:na,exit:la,join:ha,merge:ca,selection:gu,order:da,sort:fa,call:ma,nodes:ga,node:ya,size:_a,empty:va,each:wa,attr:Sa,style:Ma,property:Oa,classed:za,text:Ua,html:Va,raise:Ga,lower:Ka,append:Qa,insert:tu,remove:nu,clone:su,datum:ou,on:cu,dispatch:pu,[Symbol.iterator]:mu};function Q(t){return typeof t=="string"?new kt([[document.querySelector(t)]],[document.documentElement]):new kt([[t]],$i)}function yu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Jt(t,e){if(t=yu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var _u={value:()=>{}};function mr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rn(n)}function rn(t){this._=t}function vu(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}rn.prototype=mr.prototype={constructor:rn,on:function(t,e){var n=this._,r=vu(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=wu(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Lr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Lr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new rn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function wu(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Lr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=_u,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const Xn={capture:!0,passive:!1};function Hn(t){t.preventDefault(),t.stopImmediatePropagation()}function bu(t){var e=t.document.documentElement,n=Q(t).on("dragstart.drag",Hn,Xn);"onselectstart"in e?n.on("selectstart.drag",Hn,Xn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function xu(t,e){var n=t.document.documentElement,r=Q(t).on("dragstart.drag",null);e&&(r.on("click.drag",Hn,Xn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function gr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ii(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ze(){}var Me=.7,hn=1/Me,me="\\s*([+-]?\\d+)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tu=/^#([0-9a-f]{3,8})$/,ku=new RegExp(`^rgb\\(${me},${me},${me}\\)$`),Nu=new RegExp(`^rgb\\(${Dt},${Dt},${Dt}\\)$`),Eu=new RegExp(`^rgba\\(${me},${me},${me},${$e}\\)$`),Su=new RegExp(`^rgba\\(${Dt},${Dt},${Dt},${$e}\\)$`),Au=new RegExp(`^hsl\\(${$e},${Dt},${Dt}\\)$`),Cu=new RegExp(`^hsla\\(${$e},${Dt},${Dt},${$e}\\)$`),Br={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gr(ze,Ie,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zr,formatHex:zr,formatHex8:Ru,formatHsl:Mu,formatRgb:Wr,toString:Wr});function zr(){return this.rgb().formatHex()}function Ru(){return this.rgb().formatHex8()}function Mu(){return Pi(this).formatHsl()}function Wr(){return this.rgb().formatRgb()}function Ie(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qr(e):n===3?new xt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?je(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?je(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ku.exec(t))?new xt(e[1],e[2],e[3],1):(e=Nu.exec(t))?new xt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Eu.exec(t))?je(e[1],e[2],e[3],e[4]):(e=Su.exec(t))?je(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Au.exec(t))?Xr(e[1],e[2]/100,e[3]/100,1):(e=Cu.exec(t))?Xr(e[1],e[2]/100,e[3]/100,e[4]):Br.hasOwnProperty(t)?qr(Br[t]):t==="transparent"?new xt(NaN,NaN,NaN,0):null}function qr(t){return new xt(t>>16&255,t>>8&255,t&255,1)}function je(t,e,n,r){return r<=0&&(t=e=n=NaN),new xt(t,e,n,r)}function $u(t){return t instanceof ze||(t=Ie(t)),t?(t=t.rgb(),new xt(t.r,t.g,t.b,t.opacity)):new xt}function Fn(t,e,n,r){return arguments.length===1?$u(t):new xt(t,e,n,r??1)}function xt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gr(xt,Fn,Ii(ze,{brighter(t){return t=t==null?hn:Math.pow(hn,t),new xt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Me:Math.pow(Me,t),new xt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xt(se(this.r),se(this.g),se(this.b),cn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yr,formatHex:Yr,formatHex8:Iu,formatRgb:Ur,toString:Ur}));function Yr(){return`#${ne(this.r)}${ne(this.g)}${ne(this.b)}`}function Iu(){return`#${ne(this.r)}${ne(this.g)}${ne(this.b)}${ne((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ur(){const t=cn(this.opacity);return`${t===1?"rgb(":"rgba("}${se(this.r)}, ${se(this.g)}, ${se(this.b)}${t===1?")":`, ${t})`}`}function cn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function se(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ne(t){return t=se(t),(t<16?"0":"")+t.toString(16)}function Xr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ct(t,e,n,r)}function Pi(t){if(t instanceof Ct)return new Ct(t.h,t.s,t.l,t.opacity);if(t instanceof ze||(t=Ie(t)),!t)return new Ct;if(t instanceof Ct)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,u=s-i,l=(s+i)/2;return u?(e===s?o=(n-r)/u+(n<r)*6:n===s?o=(r-e)/u+2:o=(e-n)/u+4,u/=l<.5?s+i:2-s-i,o*=60):u=l>0&&l<1?0:o,new Ct(o,u,l,t.opacity)}function Pu(t,e,n,r){return arguments.length===1?Pi(t):new Ct(t,e,n,r??1)}function Ct(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gr(Ct,Pu,Ii(ze,{brighter(t){return t=t==null?hn:Math.pow(hn,t),new Ct(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Me:Math.pow(Me,t),new Ct(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xt(In(t>=240?t-240:t+120,i,r),In(t,i,r),In(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ct(Hr(this.h),Ge(this.s),Ge(this.l),cn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cn(this.opacity);return`${t===1?"hsl(":"hsla("}${Hr(this.h)}, ${Ge(this.s)*100}%, ${Ge(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Hr(t){return t=(t||0)%360,t<0?t+360:t}function Ge(t){return Math.max(0,Math.min(1,t||0))}function In(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Oi=t=>()=>t;function Ou(t,e){return function(n){return t+n*e}}function Du(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lu(t){return(t=+t)==1?Di:function(e,n){return n-e?Du(e,n,t):Oi(isNaN(e)?n:e)}}function Di(t,e){var n=e-t;return n?Ou(t,n):Oi(isNaN(t)?e:t)}const Fr=function t(e){var n=Lu(e);function r(i,s){var o=n((i=Fn(i)).r,(s=Fn(s)).r),u=n(i.g,s.g),l=n(i.b,s.b),a=Di(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=l(c),i.opacity=a(c),i+""}}return r.gamma=t,r}(1);function Ft(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Vn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pn=new RegExp(Vn.source,"g");function Bu(t){return function(){return t}}function zu(t){return function(e){return t(e)+""}}function Wu(t,e){var n=Vn.lastIndex=Pn.lastIndex=0,r,i,s,o=-1,u=[],l=[];for(t=t+"",e=e+"";(r=Vn.exec(t))&&(i=Pn.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[o]?u[o]+=s:u[++o]=s),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:Ft(r,i)})),n=Pn.lastIndex;return n<e.length&&(s=e.slice(n),u[o]?u[o]+=s:u[++o]=s),u.length<2?l[0]?zu(l[0].x):Bu(e):(e=l.length,function(a){for(var c=0,f;c<e;++c)u[(f=l[c]).i]=f.x(a);return u.join("")})}var Vr=180/Math.PI,Li={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bi(t,e,n,r,i,s){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Vr,skewX:Math.atan(l)*Vr,scaleX:o,scaleY:u}}var Je;function qu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Li:Bi(e.a,e.b,e.c,e.d,e.e,e.f)}function Yu(t){return t==null||(Je||(Je=document.createElementNS("http://www.w3.org/2000/svg","g")),Je.setAttribute("transform",t),!(t=Je.transform.baseVal.consolidate()))?Li:(t=t.matrix,Bi(t.a,t.b,t.c,t.d,t.e,t.f))}function zi(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function s(a,c,f,h,p,d){if(a!==f||c!==h){var g=p.push("translate(",null,e,null,n);d.push({i:g-4,x:Ft(a,f)},{i:g-2,x:Ft(c,h)})}else(f||h)&&p.push("translate("+f+e+h+n)}function o(a,c,f,h){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Ft(a,c)})):c&&f.push(i(f)+"rotate("+c+r)}function u(a,c,f,h){a!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Ft(a,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(a,c,f,h,p,d){if(a!==f||c!==h){var g=p.push(i(p)+"scale(",null,",",null,")");d.push({i:g-4,x:Ft(a,f)},{i:g-2,x:Ft(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(a,c){var f=[],h=[];return a=t(a),c=t(c),s(a.translateX,a.translateY,c.translateX,c.translateY,f,h),o(a.rotate,c.rotate,f,h),u(a.skewX,c.skewX,f,h),l(a.scaleX,a.scaleY,c.scaleX,c.scaleY,f,h),a=c=null,function(p){for(var d=-1,g=h.length,_;++d<g;)f[(_=h[d]).i]=_.x(p);return f.join("")}}}var Uu=zi(qu,"px, ","px)","deg)"),Xu=zi(Yu,", ",")",")"),Hu=1e-12;function jr(t){return((t=Math.exp(t))+1/t)/2}function Fu(t){return((t=Math.exp(t))-1/t)/2}function Vu(t){return((t=Math.exp(2*t))-1)/(t+1)}const ju=function t(e,n,r){function i(s,o){var u=s[0],l=s[1],a=s[2],c=o[0],f=o[1],h=o[2],p=c-u,d=f-l,g=p*p+d*d,_,y;if(g<Hu)y=Math.log(h/a)/e,_=function(O){return[u+O*p,l+O*d,a*Math.exp(e*O*y)]};else{var k=Math.sqrt(g),A=(h*h-a*a+r*g)/(2*a*n*k),C=(h*h-a*a-r*g)/(2*h*n*k),z=Math.log(Math.sqrt(A*A+1)-A),P=Math.log(Math.sqrt(C*C+1)-C);y=(P-z)/e,_=function(O){var B=O*y,S=jr(z),N=a/(n*k)*(S*Vu(e*B+z)-Fu(z));return[u+N*p,l+N*d,a*S/jr(e*B+z)]}}return _.duration=y*1e3*e/Math.SQRT2,_}return i.rho=function(s){var o=Math.max(.001,+s),u=o*o,l=u*u;return t(o,u,l)},i}(Math.SQRT2,2,4);var we=0,Ne=0,Te=0,Wi=1e3,dn,Ee,fn=0,ae=0,vn=0,Pe=typeof performance=="object"&&performance.now?performance:Date,qi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function yr(){return ae||(qi(Gu),ae=Pe.now()+vn)}function Gu(){ae=0}function pn(){this._call=this._time=this._next=null}pn.prototype=Yi.prototype={constructor:pn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?yr():+n)+(e==null?0:+e),!this._next&&Ee!==this&&(Ee?Ee._next=this:dn=this,Ee=this),this._call=t,this._time=n,jn()},stop:function(){this._call&&(this._call=null,this._time=1/0,jn())}};function Yi(t,e,n){var r=new pn;return r.restart(t,e,n),r}function Ju(){yr(),++we;for(var t=dn,e;t;)(e=ae-t._time)>=0&&t._call.call(void 0,e),t=t._next;--we}function Gr(){ae=(fn=Pe.now())+vn,we=Ne=0;try{Ju()}finally{we=0,Qu(),ae=0}}function Ku(){var t=Pe.now(),e=t-fn;e>Wi&&(vn-=e,fn=t)}function Qu(){for(var t,e=dn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:dn=n);Ee=t,jn(r)}function jn(t){if(!we){Ne&&(Ne=clearTimeout(Ne));var e=t-ae;e>24?(t<1/0&&(Ne=setTimeout(Gr,t-Pe.now()-vn)),Te&&(Te=clearInterval(Te))):(Te||(fn=Pe.now(),Te=setInterval(Ku,Wi)),we=1,qi(Gr))}}function Jr(t,e,n){var r=new pn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Zu=mr("start","end","cancel","interrupt"),tl=[],Ui=0,Kr=1,Gn=2,sn=3,Qr=4,Jn=5,on=6;function wn(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;el(t,n,{name:e,index:r,group:i,on:Zu,tween:tl,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ui})}function _r(t,e){var n=Rt(t,e);if(n.state>Ui)throw new Error("too late; already scheduled");return n}function Bt(t,e){var n=Rt(t,e);if(n.state>sn)throw new Error("too late; already running");return n}function Rt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function el(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Yi(s,0,n.time);function s(a){n.state=Kr,n.timer.restart(o,n.delay,n.time),n.delay<=a&&o(a-n.delay)}function o(a){var c,f,h,p;if(n.state!==Kr)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===sn)return Jr(o);p.state===Qr?(p.state=on,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=on,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(Jr(function(){n.state===sn&&(n.state=Qr,n.timer.restart(u,n.delay,n.time),u(a))}),n.state=Gn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Gn){for(n.state=sn,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function u(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(l),n.state=Jn,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===Jn&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=on,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function an(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Gn&&r.state<Jn,r.state=on,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function nl(t){return this.each(function(){an(this,t)})}function rl(t,e){var n,r;return function(){var i=Bt(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,u=r.length;o<u;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function il(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Bt(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var u={name:e,value:n},l=0,a=i.length;l<a;++l)if(i[l].name===e){i[l]=u;break}l===a&&i.push(u)}s.tween=i}}function sl(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Rt(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?rl:il)(n,t,e))}function vr(t,e,n){var r=t._id;return t.each(function(){var i=Bt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Rt(i,r).value[e]}}function Xi(t,e){var n;return(typeof e=="number"?Ft:e instanceof Ie?Fr:(n=Ie(e))?(e=n,Fr):Wu)(t,e)}function ol(t){return function(){this.removeAttribute(t)}}function al(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ul(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function ll(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function hl(t,e,n){var r,i,s;return function(){var o,u=n(this),l;return u==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=u+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,u)))}}function cl(t,e,n){var r,i,s;return function(){var o,u=n(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=u+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,u)))}}function dl(t,e){var n=_n(t),r=n==="transform"?Xu:Xi;return this.attrTween(t,typeof e=="function"?(n.local?cl:hl)(n,r,vr(this,"attr."+t,e)):e==null?(n.local?al:ol)(n):(n.local?ll:ul)(n,r,e))}function fl(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function pl(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ml(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&pl(t,s)),n}return i._value=e,i}function gl(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&fl(t,s)),n}return i._value=e,i}function yl(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=_n(t);return this.tween(n,(r.local?ml:gl)(r,e))}function _l(t,e){return function(){_r(this,t).delay=+e.apply(this,arguments)}}function vl(t,e){return e=+e,function(){_r(this,t).delay=e}}function wl(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_l:vl)(e,t)):Rt(this.node(),e).delay}function bl(t,e){return function(){Bt(this,t).duration=+e.apply(this,arguments)}}function xl(t,e){return e=+e,function(){Bt(this,t).duration=e}}function Tl(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?bl:xl)(e,t)):Rt(this.node(),e).duration}function kl(t,e){if(typeof e!="function")throw new Error;return function(){Bt(this,t).ease=e}}function Nl(t){var e=this._id;return arguments.length?this.each(kl(e,t)):Rt(this.node(),e).ease}function El(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Bt(this,t).ease=n}}function Sl(t){if(typeof t!="function")throw new Error;return this.each(El(this._id,t))}function Al(t){typeof t!="function"&&(t=Ti(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,u=r[i]=[],l,a=0;a<o;++a)(l=s[a])&&t.call(l,l.__data__,a,s)&&u.push(l);return new Yt(r,this._parents,this._name,this._id)}function Cl(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),u=0;u<s;++u)for(var l=e[u],a=n[u],c=l.length,f=o[u]=new Array(c),h,p=0;p<c;++p)(h=l[p]||a[p])&&(f[p]=h);for(;u<r;++u)o[u]=e[u];return new Yt(o,this._parents,this._name,this._id)}function Rl(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ml(t,e,n){var r,i,s=Rl(e)?_r:Bt;return function(){var o=s(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(e,n),o.on=i}}function $l(t,e){var n=this._id;return arguments.length<2?Rt(this.node(),n).on.on(t):this.each(Ml(n,t,e))}function Il(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Pl(){return this.on("end.remove",Il(this._id))}function Ol(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fr(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,a=s[o]=new Array(l),c,f,h=0;h<l;++h)(c=u[h])&&(f=t.call(c,c.__data__,h,u))&&("__data__"in c&&(f.__data__=c.__data__),a[h]=f,wn(a[h],e,n,h,a,Rt(c,n)));return new Yt(s,this._parents,e,n)}function Dl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xi(t));for(var r=this._groups,i=r.length,s=[],o=[],u=0;u<i;++u)for(var l=r[u],a=l.length,c,f=0;f<a;++f)if(c=l[f]){for(var h=t.call(c,c.__data__,f,l),p,d=Rt(c,n),g=0,_=h.length;g<_;++g)(p=h[g])&&wn(p,e,n,g,h,d);s.push(h),o.push(c)}return new Yt(s,o,e,n)}var Ll=Be.prototype.constructor;function Bl(){return new Ll(this._groups,this._parents)}function zl(t,e){var n,r,i;return function(){var s=ve(this,t),o=(this.style.removeProperty(t),ve(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Hi(t){return function(){this.style.removeProperty(t)}}function Wl(t,e,n){var r,i=n+"",s;return function(){var o=ve(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function ql(t,e,n){var r,i,s;return function(){var o=ve(this,t),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),ve(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,u))}}function Yl(t,e){var n,r,i,s="style."+e,o="end."+s,u;return function(){var l=Bt(this,t),a=l.on,c=l.value[s]==null?u||(u=Hi(e)):void 0;(a!==n||i!==c)&&(r=(n=a).copy()).on(o,i=c),l.on=r}}function Ul(t,e,n){var r=(t+="")=="transform"?Uu:Xi;return e==null?this.styleTween(t,zl(t,r)).on("end.style."+t,Hi(t)):typeof e=="function"?this.styleTween(t,ql(t,r,vr(this,"style."+t,e))).each(Yl(this._id,t)):this.styleTween(t,Wl(t,r,e),n).on("end.style."+t,null)}function Xl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Hl(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Xl(t,o,n)),r}return s._value=e,s}function Fl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Hl(t,e,n??""))}function Vl(t){return function(){this.textContent=t}}function jl(t){return function(){var e=t(this);this.textContent=e??""}}function Gl(t){return this.tween("text",typeof t=="function"?jl(vr(this,"text",t)):Vl(t==null?"":t+""))}function Jl(t){return function(e){this.textContent=t.call(this,e)}}function Kl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Jl(i)),e}return r._value=t,r}function Ql(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Kl(t))}function Zl(){for(var t=this._name,e=this._id,n=Fi(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],u=o.length,l,a=0;a<u;++a)if(l=o[a]){var c=Rt(l,e);wn(l,t,n,a,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Yt(r,this._parents,t,n)}function th(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var u={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var a=Bt(this,r),c=a.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),a.on=e}),i===0&&s()})}var eh=0;function Yt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Fi(){return++eh}var Wt=Be.prototype;Yt.prototype={constructor:Yt,select:Ol,selectAll:Dl,selectChild:Wt.selectChild,selectChildren:Wt.selectChildren,filter:Al,merge:Cl,selection:Bl,transition:Zl,call:Wt.call,nodes:Wt.nodes,node:Wt.node,size:Wt.size,empty:Wt.empty,each:Wt.each,on:$l,attr:dl,attrTween:yl,style:Ul,styleTween:Fl,text:Gl,textTween:Ql,remove:Pl,tween:sl,delay:wl,duration:Tl,ease:Nl,easeVarying:Sl,end:th,[Symbol.iterator]:Wt[Symbol.iterator]};function nh(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var rh={time:null,delay:0,duration:250,ease:nh};function ih(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function sh(t){var e,n;t instanceof Yt?(e=t._id,t=t._name):(e=Fi(),(n=rh).time=yr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],u=o.length,l,a=0;a<u;++a)(l=o[a])&&wn(l,t,e,a,o,n||ih(l,e));return new Yt(r,this._parents,t,e)}Be.prototype.interrupt=nl;Be.prototype.transition=sh;const Kn=Math.PI,Qn=2*Kn,Qt=1e-6,oh=Qn-Qt;function Vi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ah(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Vi;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ji{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Vi:ah(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,l=r-e,a=i-n,c=o-e,f=u-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Qt)if(!(Math.abs(f*l-a*c)>Qt)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,d=i-u,g=l*l+a*a,_=p*p+d*d,y=Math.sqrt(g),k=Math.sqrt(h),A=s*Math.tan((Kn-Math.acos((g+h-_)/(2*y*k)))/2),C=A/k,z=A/y;Math.abs(C-1)>Qt&&this._append`L${e+C*c},${n+C*f}`,this._append`A${s},${s},0,0,${+(f*p>c*d)},${this._x1=e+z*l},${this._y1=n+z*a}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),l=r*Math.sin(i),a=e+u,c=n+l,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${a},${c}`:(Math.abs(this._x1-a)>Qt||Math.abs(this._y1-c)>Qt)&&this._append`L${a},${c}`,r&&(h<0&&(h=h%Qn+Qn),h>oh?this._append`A${r},${r},0,1,${f},${e-u},${n-l}A${r},${r},0,1,${f},${this._x1=a},${this._y1=c}`:h>Qt&&this._append`A${r},${r},0,${+(h>=Kn)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Zn(){return new ji}Zn.prototype=ji.prototype;const Ke=t=>()=>t;function uh(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ot(t,e,n){this.k=t,this.x=e,this.y=n}Ot.prototype={constructor:Ot,scale:function(t){return t===1?this:new Ot(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ot(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wr=new Ot(1,0,0);Gi.prototype=Ot.prototype;function Gi(t){for(;!t.__zoom;)if(!(t=t.parentNode))return wr;return t.__zoom}function On(t){t.stopImmediatePropagation()}function ke(t){t.preventDefault(),t.stopImmediatePropagation()}function lh(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function hh(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Zr(){return this.__zoom||wr}function ch(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function dh(){return navigator.maxTouchPoints||"ontouchstart"in this}function fh(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function ph(){var t=lh,e=hh,n=fh,r=ch,i=dh,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,l=ju,a=mr("start","zoom","end"),c,f,h,p=500,d=150,g=0,_=10;function y(m){m.property("__zoom",Zr).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",$).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(m,T,v,w){var E=m.selection?m.selection():m;E.property("__zoom",Zr),m!==E?z(m,T,v,w):E.interrupt().each(function(){P(this,arguments).event(w).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},y.scaleBy=function(m,T,v,w){y.scaleTo(m,function(){var E=this.__zoom.k,b=typeof T=="function"?T.apply(this,arguments):T;return E*b},v,w)},y.scaleTo=function(m,T,v,w){y.transform(m,function(){var E=e.apply(this,arguments),b=this.__zoom,R=v==null?C(E):typeof v=="function"?v.apply(this,arguments):v,L=b.invert(R),V=typeof T=="function"?T.apply(this,arguments):T;return n(A(k(b,V),R,L),E,o)},v,w)},y.translateBy=function(m,T,v,w){y.transform(m,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof v=="function"?v.apply(this,arguments):v),e.apply(this,arguments),o)},null,w)},y.translateTo=function(m,T,v,w,E){y.transform(m,function(){var b=e.apply(this,arguments),R=this.__zoom,L=w==null?C(b):typeof w=="function"?w.apply(this,arguments):w;return n(wr.translate(L[0],L[1]).scale(R.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof v=="function"?-v.apply(this,arguments):-v),b,o)},w,E)};function k(m,T){return T=Math.max(s[0],Math.min(s[1],T)),T===m.k?m:new Ot(T,m.x,m.y)}function A(m,T,v){var w=T[0]-v[0]*m.k,E=T[1]-v[1]*m.k;return w===m.x&&E===m.y?m:new Ot(m.k,w,E)}function C(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function z(m,T,v,w){m.on("start.zoom",function(){P(this,arguments).event(w).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(w).end()}).tween("zoom",function(){var E=this,b=arguments,R=P(E,b).event(w),L=e.apply(E,b),V=v==null?C(L):typeof v=="function"?v.apply(E,b):v,ct=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),X=E.__zoom,F=typeof T=="function"?T.apply(E,b):T,it=l(X.invert(V).concat(ct/X.k),F.invert(V).concat(ct/F.k));return function(J){if(J===1)J=F;else{var x=it(J),I=ct/x[2];J=new Ot(I,V[0]-x[0]*I,V[1]-x[1]*I)}R.zoom(null,J)}})}function P(m,T,v){return!v&&m.__zooming||new O(m,T)}function O(m,T){this.that=m,this.args=T,this.active=0,this.sourceEvent=null,this.extent=e.apply(m,T),this.taps=0}O.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,T){return this.mouse&&m!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var T=Q(this.that).datum();a.call(m,this.that,new uh(m,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:a}),T)}};function B(m,...T){if(!t.apply(this,arguments))return;var v=P(this,T).event(m),w=this.__zoom,E=Math.max(s[0],Math.min(s[1],w.k*Math.pow(2,r.apply(this,arguments)))),b=Jt(m);if(v.wheel)(v.mouse[0][0]!==b[0]||v.mouse[0][1]!==b[1])&&(v.mouse[1]=w.invert(v.mouse[0]=b)),clearTimeout(v.wheel);else{if(w.k===E)return;v.mouse=[b,w.invert(b)],an(this),v.start()}ke(m),v.wheel=setTimeout(R,d),v.zoom("mouse",n(A(k(w,E),v.mouse[0],v.mouse[1]),v.extent,o));function R(){v.wheel=null,v.end()}}function S(m,...T){if(h||!t.apply(this,arguments))return;var v=m.currentTarget,w=P(this,T,!0).event(m),E=Q(m.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",ct,!0),b=Jt(m,v),R=m.clientX,L=m.clientY;bu(m.view),On(m),w.mouse=[b,this.__zoom.invert(b)],an(this),w.start();function V(X){if(ke(X),!w.moved){var F=X.clientX-R,it=X.clientY-L;w.moved=F*F+it*it>g}w.event(X).zoom("mouse",n(A(w.that.__zoom,w.mouse[0]=Jt(X,v),w.mouse[1]),w.extent,o))}function ct(X){E.on("mousemove.zoom mouseup.zoom",null),xu(X.view,w.moved),ke(X),w.event(X).end()}}function N(m,...T){if(t.apply(this,arguments)){var v=this.__zoom,w=Jt(m.changedTouches?m.changedTouches[0]:m,this),E=v.invert(w),b=v.k*(m.shiftKey?.5:2),R=n(A(k(v,b),w,E),e.apply(this,T),o);ke(m),u>0?Q(this).transition().duration(u).call(z,R,w,m):Q(this).call(y.transform,R,w,m)}}function $(m,...T){if(t.apply(this,arguments)){var v=m.touches,w=v.length,E=P(this,T,m.changedTouches.length===w).event(m),b,R,L,V;for(On(m),R=0;R<w;++R)L=v[R],V=Jt(L,this),V=[V,this.__zoom.invert(V),L.identifier],E.touch0?!E.touch1&&E.touch0[2]!==V[2]&&(E.touch1=V,E.taps=0):(E.touch0=V,b=!0,E.taps=1+!!c);c&&(c=clearTimeout(c)),b&&(E.taps<2&&(f=V[0],c=setTimeout(function(){c=null},p)),an(this),E.start())}}function q(m,...T){if(this.__zooming){var v=P(this,T).event(m),w=m.changedTouches,E=w.length,b,R,L,V;for(ke(m),b=0;b<E;++b)R=w[b],L=Jt(R,this),v.touch0&&v.touch0[2]===R.identifier?v.touch0[0]=L:v.touch1&&v.touch1[2]===R.identifier&&(v.touch1[0]=L);if(R=v.that.__zoom,v.touch1){var ct=v.touch0[0],X=v.touch0[1],F=v.touch1[0],it=v.touch1[1],J=(J=F[0]-ct[0])*J+(J=F[1]-ct[1])*J,x=(x=it[0]-X[0])*x+(x=it[1]-X[1])*x;R=k(R,Math.sqrt(J/x)),L=[(ct[0]+F[0])/2,(ct[1]+F[1])/2],V=[(X[0]+it[0])/2,(X[1]+it[1])/2]}else if(v.touch0)L=v.touch0[0],V=v.touch0[1];else return;v.zoom("touch",n(A(R,L,V),v.extent,o))}}function G(m,...T){if(this.__zooming){var v=P(this,T).event(m),w=m.changedTouches,E=w.length,b,R;for(On(m),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),b=0;b<E;++b)R=w[b],v.touch0&&v.touch0[2]===R.identifier?delete v.touch0:v.touch1&&v.touch1[2]===R.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(R=Jt(R,this),Math.hypot(f[0]-R[0],f[1]-R[1])<_)){var L=Q(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return y.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:Ke(+m),y):r},y.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Ke(!!m),y):t},y.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Ke(!!m),y):i},y.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Ke([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),y):e},y.scaleExtent=function(m){return arguments.length?(s[0]=+m[0],s[1]=+m[1],y):[s[0],s[1]]},y.translateExtent=function(m){return arguments.length?(o[0][0]=+m[0][0],o[1][0]=+m[1][0],o[0][1]=+m[0][1],o[1][1]=+m[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(m){return arguments.length?(n=m,y):n},y.duration=function(m){return arguments.length?(u=+m,y):u},y.interpolate=function(m){return arguments.length?(l=m,y):l},y.on=function(){var m=a.on.apply(a,arguments);return m===a?y:m},y.clickDistance=function(m){return arguments.length?(g=(m=+m)*m,y):Math.sqrt(g)},y.tapDistance=function(m){return arguments.length?(_=+m,y):_},y}const Kt="http://www.w3.org/2000/svg";class mh{constructor(e){M(this,"bPlusTreeRoot",new yt(!0)),M(this,"previousBPlusTreeRoot",this.bPlusTreeRoot),M(this,"previousValue",null),M(this,"previousOperationType",null),M(this,"exitSelections",[]),M(this,"n"),M(this,"keyRectWidth",42),M(this,"nodeHeight",29),M(this,"pointerRectWidth",14),M(this,"nodeWidth"),M(this,"nodeSiblingsGap",1.5),M(this,"nodeParentsGap",2),M(this,"nodeChildrenGap",200),M(this,"lightBlue"),M(this,"lightGreen"),M(this,"textColor","#000000"),M(this,"edgeFill","none"),M(this,"edgeStroke","black"),M(this,"edgeStrokeWidth","2px"),M(this,"edgeOpacity","1"),M(this,"edgeMarkerEnd","url(#arrow)"),M(this,"edgeMarkerStart","url(#circle)"),M(this,"animationDuration",1e3),M(this,"translateYDist",40),M(this,"splitXDist"),M(this,"splitYDist",this.nodeHeight*1.5),M(this,"opacityEaseType","outQuad"),M(this,"leafNodeEdgeClassName","leaf-node-edge"),M(this,"edgeClassName","edge"),M(this,"nodeClassName","node"),M(this,"nodeSelector","g.node"),M(this,"edgeSelector","path."+this.edgeClassName),M(this,"keyTextClassName","node-key-text"),M(this,"nodeTextSelector","text."+this.keyTextClassName),M(this,"mainSvgId","#main-svg"),M(this,"mainSvg"),M(this,"d3TreeLayout",Bo()),M(this,"edgeIdCount",0),M(this,"algoStepHistory",new ts),M(this,"getLeafNodeLinks",h=>{const p=_=>{var y;if(_.data.isLeaf)return[_];{let k=[];return(y=_.children)==null||y.forEach(A=>{k=k.concat(p(A))}),k}},d=p(h),g=[];return d.forEach(_=>{const y=_.data.pointers[this.n-1];if(y!=null){const k=d.find(A=>A.data==y);if(k==null)throw new Error("malformed data structure");g.push({source:_,target:k})}}),g}),M(this,"bPlusTreeChildrenDefinition",h=>{if(h.isLeaf)return[];{const p=[];let d=0;return h.pointers.forEach(g=>{g!=null&&(p[d++]=g)}),p}}),M(this,"generateMorphToPath",(h,p,d,g,_)=>{let y=this.generateEdgePathFN(h,p,d,g,_),k=document.createElementNS(Kt,"path");k.setAttribute("d",y);const A=document.querySelector(this.mainSvgId+" defs");if(!A)throw new Error("defs element not found");return A.appendChild(k),k}),M(this,"generateEdgePathFN",(h,p,d,g,_)=>{h=h+this.pointerRectWidth/2+(this.pointerRectWidth+this.keyRectWidth)*_,p=p+this.nodeHeight/2,d=d+this.nodeWidth/2;const y=Zn();return y.moveTo(h,p),y.bezierCurveTo(h,p+70,d,g-50,d,g),y.toString()}),M(this,"generateLeafEdgePathFN",(h,p,d,g)=>{const _=Zn();return _.moveTo(h+this.nodeWidth-this.pointerRectWidth/2,p+this.nodeHeight/2),_.lineTo(d,g+this.nodeHeight/2),_.toString()}),M(this,"generateLeafEdgeId",(h,p)=>`${h}-${p}`),M(this,"morphToWorkAround",(h,p,d=.33)=>{for(const g of Object.getOwnPropertySymbols(h))delete h[g];return Xe.morphTo(p,d)}),this.n=e,this.nodeWidth=(this.keyRectWidth+this.pointerRectWidth)*(this.n-1)+this.pointerRectWidth,this.splitXDist=this.nodeWidth;const n=document.querySelector(this.mainSvgId);if(n==null)throw new Error("main-svg element not found invalid html structure");this.mainSvg=n,this.mainSvg.viewBox,this.mainSvg.setAttribute("viewBox",`${this.mainSvg.viewBox.baseVal.x+this.nodeWidth/2} ${this.mainSvg.viewBox.baseVal.y} ${this.mainSvg.viewBox.baseVal.width} ${this.mainSvg.viewBox.baseVal.height}`);const r=this.mainSvg.viewBox.baseVal;let i=new DOMPoint(r.x,r.y,1),s=new DOMPoint(r.width+r.x,r.height+r.y,1);const o=Q(this.mainSvg),u=ph().filter(function(h){return h.type==="wheel"});o.call(u.on("zoom",h=>{const[p,d]=h.transform.apply([i.x,i.y]),[g,_]=h.transform.apply([s.x,s.y]);r.x=p,r.y=d,r.width=g-p,r.height=_-d}));let l=!1,a=new DOMPoint(0,0);const c=(h,p)=>{const d=this.mainSvg.getScreenCTM();if(d==null)throw new Error("svg had null screen ctm, bad state");var g=d.inverse();return new DOMPoint(h,p).matrixTransform(g)};this.mainSvg.onpointerdown=h=>{l=!0;const p=c(h.x,h.y);a.x=p.x,a.y=p.y},this.mainSvg.onpointerup=h=>{l=!1;const p=c(h.x,h.y);r.x-=p.x-a.x,r.y-=p.y-a.y;const d=Gi(this.mainSvg);u.transform(o,new Ot(d.k,r.x-d.k*i.x,r.y-d.k*i.y))},this.mainSvg.onpointermove=h=>{if(!l)return;h.preventDefault();const p=c(h.x,h.y);r.x-=p.x-a.x,r.y-=p.y-a.y};const f=getComputedStyle(document.body);this.lightBlue=f.getPropertyValue("--light-blue"),this.lightGreen=f.getPropertyValue("--light-green"),this.d3TreeLayout.nodeSize([this.nodeWidth,this.nodeHeight+this.nodeChildrenGap]),this.d3TreeLayout.separation((h,p)=>h.parent==p.parent?this.nodeSiblingsGap:this.nodeParentsGap)}find(e){let n=this.bPlusTreeRoot;for(;n&&!n.isLeaf;){const r=Math.min(...n.keys.filter(s=>e<=s)),i=n.keys.findIndex(s=>r==s);if(i==-1){const s=n.pointers[n.pointers.length-1];s&&(n=s)}else if(e==r){const s=n.pointers[i+1];if(s==null)throw new Error("bad dom state, child node is null");n=s}else{const s=n.pointers[i];if(s==null)throw new Error("bad dom state, child node is null");n=s}}return n.keys&&n.keys.includes(e)?{found:!0,node:n,index:n.keys.indexOf(e)}:{found:!1,node:n}}insert(e){this.exitSelections.forEach(f=>{f.remove()});const n=co({autoplay:!1,defaults:{duration:this.animationDuration,ease:"linear"}}),r=(f,h,p)=>{const d=Q(p),g=d.selectAll("text."+this.keyTextClassName).data(f.keys,function(_){return _?"t"+_:this.id});if(h<f.keys[0]||f.keys.length==0){g.nodes().forEach(y=>{n.add(y,{x:String(Number(y.getAttribute("x"))+this.keyRectWidth+this.pointerRectWidth)},"<<")});for(let y=f.keys.length-1;y>=0;y--)f.keys[y]&&(f.keys[y+1]=f.keys[y]);f.keys[0]=h;const _=this.createNewNodeText(h,0);return d.nodes()[0].appendChild(_),n.set(_,{opacity:1}).add(_,{translateY:{from:"-"+this.translateYDist},duration:this.animationDuration*2}).set(_,{fill:this.textColor}),_}else{const _=f.keys.findIndex(y=>y>=h);if(_<0){f.keys.push(h);const y=this.createNewNodeText(h,f.keys.length-1);return d.nodes()[0].appendChild(y),n.set(y,{opacity:1}).add(y,{translateY:{from:"-"+this.translateYDist},duration:this.animationDuration*2}).set(y,{fill:this.textColor}),y}else{g.nodes().slice(_).forEach((k,A)=>{let C="<<";A==0&&(C="<"),n.add(k,{x:String(Number(k.getAttribute("x"))+this.keyRectWidth+this.pointerRectWidth)},C)}),f.keys.splice(_,0,h);const y=this.createNewNodeText(h,_);return d.nodes()[0].appendChild(y),n.set(y,{opacity:1}).add(y,{translateY:{from:"-"+this.translateYDist},duration:this.animationDuration*2}).set(y,{fill:this.textColor}),y}}},i=(f,h,p)=>{if(f.parent==null){const _=this;this.bPlusTreeRoot=new yt(!1),this.bPlusTreeRoot.isLeaf=!1,this.bPlusTreeRoot.addNodeToPointers(f),this.bPlusTreeRoot.addNodeToPointers(p),this.bPlusTreeRoot.keys=[h],f.parent=this.bPlusTreeRoot,p.parent=this.bPlusTreeRoot;const y=this.d3TreeLayout(qt(this.bPlusTreeRoot,this.bPlusTreeChildrenDefinition)),k=Q(this.mainSvgId).selectAll(this.nodeSelector).data(y,function(N){return N?N.data.id:this.id}),A=this.createNodeElement(this.bPlusTreeRoot);n.set(A,{transform:`translate(0,${-this.translateYDist})`},"<"),n.add(A,{opacity:{to:1,ease:this.opacityEaseType},transform:"translate(0,0)"},"<");const C=[];A.childNodes.forEach(N=>{N.nodeName=="rect"&&C.push(N)}),n.set(C,{fill:this.lightBlue},"<");const z=k.filter(N=>N.data.isLeaf);z.data().map(N=>N.data.pointers[this.n-1]?[N,z.filter($=>{const q=N.data.pointers[this.n-1];return q?$.data.id===q.id:!1}).data()[0]]:null).filter(N=>N!==null).forEach((N,$)=>{if(N===null)return;const q=document.querySelector(`#${N[0].data.id}-${N[1].data.id}`);if(!q)throw new Error("Could not get leaf edge element for leaf node siblings, bad DOM state");const G=document.createElementNS(Kt,"path");G.setAttribute("d",this.generateLeafEdgePathFN(N[0].x,N[0].y,N[1].x,N[1].y));const m=document.querySelector(this.mainSvgId+" defs");if(!m)throw new Error("defs element not found");m.appendChild(G);let T="<";$>0&&(T="<<"),n.add(q,{d:_.morphToWorkAround(q,G)},T)}),k.each(function(N,$){let q="<<";$==0&&(q="<"),n.add(this,{transform:`translate( ${String(N.x)} , ${String(N.y)} )`},q)});let P=Q(this.mainSvgId).selectAll("path."+this.edgeClassName).data(y.links(),function(N){return N?(N.target.data.edgeId==null&&(N.target.data.edgeId=`${_.edgeIdCount++}`),N.target.data.edgeId):this.id});P.each(function(N,$){let q="<<";$==0&&(q="<");const G=N.source.data.pointers.indexOf(N.target.data);n.add(this,{d:_.morphToWorkAround(this,_.generateMorphToPath(N.source.x,N.source.y,N.target.x,N.target.y,G))},q)}),P.exit().each(function(){n.set(this,{opacity:0},"<<")}),this.exitSelections.push(P.exit());const O=this.createNewNodeText(this.bPlusTreeRoot.keys[0],0);A.appendChild(O),n.add(O,{opacity:{to:1,ease:this.opacityEaseType},translateY:{from:`-${this.translateYDist}`}},"<"),n.set(O,{fill:this.textColor},"<"),P=Q(this.mainSvgId).selectAll("path."+this.edgeClassName).data(y.links(),function(N){return N?(N.target.data.edgeId==null&&(N.target.data.edgeId=`${_.edgeIdCount++}`),N.target.data.edgeId):this.id});const B=P.enter().data(),S=[];B.forEach(N=>{S.push(this.createNewEdgeSvgElement(N,!1))}),S.forEach(N=>{this.mainSvg.appendChild(N)}),n.set(S,{"marker-end":"none","marker-start":"none"},"<"),n.add(Xe.createDrawable(S),{draw:"0 1"},"<"),n.set(S,{"marker-end":"url(#arrow)","marker-start":"url(#circle)"},"<");return}const d=f.parent,g=d.pointers.findIndex(_=>_===f);if(d.pointers.filter(_=>_).length<this.n){const _=this;d.pointers.splice(g+1,0,p),d.keys.splice(g,0,h);const y=this.d3TreeLayout(qt(this.bPlusTreeRoot,this.bPlusTreeChildrenDefinition)),k=Q(this.mainSvgId).selectAll(this.nodeSelector).data(y,function(S){return S?S.data.id:this.id}),A=Q(this.mainSvgId).selectAll("path."+this.edgeClassName).data(y.links(),function(S){return S?(S.target.data.edgeId==null&&(S.target.data.edgeId=`${_.edgeIdCount++}`),S.target.data.edgeId):this.id}),C=k.filter(S=>S.data.isLeaf);C.data().map(S=>S.data.pointers[this.n-1]?[S,C.filter(N=>{const $=S.data.pointers[this.n-1];return $?N.data.id===$.id:!1}).data()[0]]:null).filter(S=>S!==null).forEach((S,N)=>{if(S===null)return;const $=document.querySelector(`#${S[0].data.id}-${S[1].data.id}`);if(!$)throw new Error("Could not get leaf edge element for leaf node siblings, bad DOM state");const q=document.createElementNS(Kt,"path");q.setAttribute("d",this.generateLeafEdgePathFN(S[0].x,S[0].y,S[1].x,S[1].y));const G=document.querySelector(this.mainSvgId+" defs");if(!G)throw new Error("defs element not found");G.appendChild(q);let m="<";N>0&&(m="<<"),n.add($,{d:_.morphToWorkAround($,q)},m)}),k.each(function(S){n.add(this,{transform:`translate(${S.x},${S.y})`},"<<")}),A.each(function(S){const N="<<",$=S.source.data.pointers.indexOf(S.target.data);n.add(this,{d:_.morphToWorkAround(this,_.generateMorphToPath(S.source.x,S.source.y,S.target.x,S.target.y,$))},N)});const z=document.querySelector(`#${d.id}`);if(z==null)throw new Error("parent node SVG element not found bad DOM state");const P=this.createNewNodeText(h,g);z.appendChild(P),Q(z).selectAll("text."+this.keyTextClassName).data(d.keys,function(S){return S?"t"+S:this.id}).nodes().slice(d.keys.indexOf(h)+1).forEach((S,N)=>{let $="<<";N==0&&($="<"),n.add(S,{x:String(Number(S.getAttribute("x"))+this.keyRectWidth+this.pointerRectWidth)},$)}),n.add(P,{opacity:{to:1,ease:this.opacityEaseType},translateY:{from:`-${this.translateYDist}`}},"<"),n.set(P,{fill:this.textColor},"<");const O=A.enter().data(),B=[];O.forEach(S=>{B.push(this.createNewEdgeSvgElement(S,!1))}),B.forEach(S=>{this.mainSvg.appendChild(S)}),n.set(B,{"marker-end":"none","marker-start":"none"},"<"),n.add(Xe.createDrawable(B),{draw:"0 1"},"<"),n.set(B,{"marker-end":"url(#arrow)","marker-start":"url(#circle)"},"<")}else{const _=this,y=new yt(!0);y.keys=d.keys.slice(),d.pointers.slice().forEach(x=>{y.addNodeToPointers(x)});const k=new yt(!1);let A=this.d3TreeLayout(qt(this.bPlusTreeRoot,this.bPlusTreeChildrenDefinition)),C=Q(this.mainSvgId).selectAll("path."+this.edgeClassName).data(A.links(),function(x){return x?(x.target.data.edgeId==null&&(x.target.data.edgeId=`${_.edgeIdCount++}`),x.target.data.edgeId):this.id});const z=Q(`#${d.id}`),P=z.node();if(P==null)throw new Error("bad state");const O=z.data()[0],B=this.createNodeElement(y,O.x,O.y,!0,!0),S=C.filter(function(x){return x.source.data.id==d.id});n.add(P,{transform:()=>`translate( ${O.x-this.splitXDist} , ${O.y+this.splitYDist})`},"<"),S.each(function(x){const I=x.source.data.pointers.indexOf(x.target.data),j=document.getElementById(x.source.data.id);if(j===null)throw new Error("could not get source node element, bad dom state");const st=document.getElementById(x.target.data.id);if(st===null)throw new Error("could not get target node element, bad dom state");const nt=j.transform.baseVal.consolidate();if(nt==null)throw new Error("transform was null, bad state");const tt=nt.matrix.e,ut=nt.matrix.f,K=st.transform.baseVal.consolidate();if(K==null)throw new Error("transform was null, bad state");const ot=K.matrix.e,lt=K.matrix.f;n.add(this,{d:_.morphToWorkAround(this,_.generateMorphToPath(tt-_.splitXDist,ut+_.splitYDist,ot,lt,I))},"<<")});const N=[];B.childNodes.forEach(x=>{x.nodeName=="rect"&&N.push(x)});const $=O.x,q=O.y;n.label("addTempNode"),n.set(B,{transform:`translate(${$} ,${q-this.translateYDist})`},"<"),n.add(B,{opacity:{to:1,ease:this.opacityEaseType},transform:`translate(${$},${q})`},"<"),n.set(N,{fill:this.lightBlue});const G=this.createNodeElement(k,O.x+this.nodeWidth,O.y+this.nodeHeight*1.5);n.add(G,{opacity:{to:1,ease:this.opacityEaseType}},"addTempNode");const m=[];if(G.childNodes.forEach(x=>{x.nodeName=="rect"&&m.push(x)}),m.length!=0&&(n.add(m,{translateY:{from:"-"+this.translateYDist}},"<<"),n.set(m,{fill:this.lightBlue})),document.querySelector(this.mainSvgId)==null)throw new Error("main-svg element not found invalid html structure");let T=z.selectAll(this.nodeTextSelector).data(d.keys,function(x){return x?"t"+x:this.id});const v=[];y.keys.forEach((x,I)=>{v.push(this.createNewNodeText(x,I)),B.appendChild(v[I])}),G.insertAdjacentElement("afterend",B),n.set(v,{opacity:1,fill:this.textColor,translateX:{to:"-"+this.nodeWidth},translateY:{to:"+"+this.nodeHeight*1.5}}),n.set(T.nodes(),{opacity:0}),n.add(v,{translateY:{to:0},translateX:{to:0}}),S.each(function(x){const I=x.source.data.pointers.indexOf(x.target.data),j=document.getElementById(x.source.data.id);if(j===null)throw new Error("could not get source node element, bad dom state");const st=document.getElementById(x.target.data.id);if(st===null)throw new Error("could not get target node element, bad dom state");const nt=j.transform.baseVal.consolidate();if(nt==null)throw new Error("transform was null, bad state");const tt=nt.matrix.e,ut=nt.matrix.f,K=st.transform.baseVal.consolidate();if(K==null)throw new Error("transform was null, bad state");const ot=K.matrix.e,lt=K.matrix.f;n.add(this,{d:_.morphToWorkAround(this,_.generateMorphToPath(tt,ut,ot,lt,I))},"<<")});const w=r(y,h,B);if(w==null)throw new Error("bad state");v.push(w),d.keys=[],d.pointers.forEach((x,I)=>{d.removeNodeFromPointer(I)}),y.pointers.splice(g+1,0,p),y.pointers.slice(0,Math.ceil((this.n+1)/2)).forEach(x=>{d.addNodeToPointers(x)}),d.keys=y.keys.slice(0,Math.ceil((this.n+1)/2)-1);const E=y.keys[Math.ceil((this.n+1)/2-1)];y.pointers.slice(Math.ceil((this.n+1)/2),this.n+1).forEach(x=>{k.addNodeToPointers(x)}),k.keys=y.keys.slice(Math.ceil((this.n+1)/2),this.n),k.parent=d.parent,d.pointers.forEach(x=>{x&&(x.parent=d)}),k.pointers.forEach(x=>{x&&(x.parent=k)});const b=[];y.keys.slice(0,Math.ceil((this.n+1)/2)-1).forEach(x=>{const I=document.querySelector("#"+y.id+" #t"+x);if(I==null)throw new Error("Bad dom state");b.push(I)}),n.add(b,{translateY:{to:"+"+this.nodeHeight*1.5},translateX:{to:"-"+this.nodeWidth}});let R=Q(this.mainSvgId).selectAll("path."+this.edgeClassName).data(A.links(),function(x){return x?(x.target.data.edgeId==null&&(x.target.data.edgeId=`${_.edgeIdCount++}`),x.target.data.edgeId):this.id});const L=y.pointers.slice(0,Math.ceil((this.n+1)/2)),V=R.filter(x=>!!L.find(I=>I!=null&&I.id===x.target.data.id)),ct=y.pointers.slice(Math.ceil((this.n+1)/2)),X=R.filter(x=>!!ct.find(I=>I!=null&&I.id===x.target.data.id));V.each(function(x){const I=x.source.data.pointers.indexOf(x.target.data),j=document.getElementById(x.source.data.id);if(j===null)throw new Error("could not get source node element, bad dom state");const st=document.getElementById(x.target.data.id);if(st===null)throw new Error("could not get target node element, bad dom state");const nt=j.transform.baseVal.consolidate();if(nt==null)throw new Error("transform was null, bad state");const tt=nt.matrix.e,ut=nt.matrix.f,K=st.transform.baseVal.consolidate();if(K==null)throw new Error("transform was null, bad state");const ot=K.matrix.e,lt=K.matrix.f;n.add(this,{d:_.morphToWorkAround(this,_.generateMorphToPath(tt-_.nodeWidth,ut+_.nodeHeight*1.5,ot,lt,I))},"<<")});const F=[];y.keys.slice(Math.ceil(this.n/2)+1).forEach(x=>{const I=document.querySelector("#"+y.id+" #t"+x);if(I==null)throw new Error("Bad dom state");F.push(I)}),n.add(F,{translateY:{to:"-"+this.nodeHeight*1.5}}),n.add(F,{translateX:{to:"+"+this.pointerRectWidth}}),n.add(F,{translateY:{to:`+${this.nodeHeight*1.5}`}}),X.each(function(x){const I=k.pointers.indexOf(x.target.data),j=document.getElementById(x.source.data.id);if(j===null)throw new Error("could not get source node element, bad dom state");const st=document.getElementById(x.target.data.id);if(st===null)throw new Error("could not get target node element, bad dom state");const nt=j.transform.baseVal.consolidate();if(nt==null)throw new Error("transform was null, bad state");const tt=nt.matrix.e,ut=nt.matrix.f,K=st.transform.baseVal.consolidate();if(K==null)throw new Error("transform was null, bad state");const ot=K.matrix.e,lt=K.matrix.f;n.add(this,{d:_.morphToWorkAround(this,_.generateMorphToPath(tt+_.nodeWidth,ut+_.nodeHeight*1.5,ot,lt,I))},"<<")}),k.keys.forEach((x,I)=>{G.appendChild(this.createNewNodeText(x,I))});const it=Array.from(G.childNodes).filter(x=>x.nodeName=="text");T=z.selectAll(this.nodeTextSelector).data(d.keys,function(x){return x?"t"+x:this.id}),this.exitSelections.push(T.exit()),T.nodes().forEach(x=>{const I=d.keys.findIndex(j=>{if(x==null)throw new Error("bad dom state");return j==Number(x.textContent)});n.set(x,{x:String(this.pointerRectWidth+this.keyRectWidth/2+I*(this.keyRectWidth+this.pointerRectWidth))})});const J=[];T.enter().data().forEach(x=>{const I=d.keys.findIndex(st=>st==x),j=this.createNewNodeText(x,I);P.appendChild(j),J.push(j)}),n.set([...T.nodes(),...it,...J],{opacity:1,fill:this.textColor}),n.set(v,{opacity:0}),n.set(Array.from(B.childNodes).filter(x=>x.nodeName=="rect"),{fill:"#F97287"}),n.add(B,{opacity:{to:0,ease:this.opacityEaseType},transform:`translate(${$},${q+this.translateYDist})`},"<"),i(d,E,k)}};let s;if(this.bPlusTreeRoot.keys.length==0){s=this.bPlusTreeRoot;const f=this.d3TreeLayout(qt(this.bPlusTreeRoot,this.bPlusTreeChildrenDefinition)),h=Q(this.mainSvgId).selectAll(this.nodeSelector).data(f,function(d){return d?d.data.id:this.id}).enter().data().map(d=>this.createNodeElement(d.data));n.add([...h],{opacity:{to:1,ease:this.opacityEaseType}});const p=h.map(d=>{const g=[];return d.childNodes.forEach(_=>{_.nodeName=="rect"&&g.push(_)}),g});p.length!=0&&n.add(p[0],{translateY:{from:"-"+this.translateYDist}},"<<"),n.set(p[0],{fill:this.lightBlue})}else{const{found:f,node:h}=this.find(e);if(f)return null;s=h}if(s==null||s.keys.filter(f=>typeof f=="number").length<this.n-1){const f=Q("#"+s.id).node();if(f===null)throw new Error("target node element was null, bad state");r(s,e,f)}else{const f=this.d3TreeLayout(qt(this.bPlusTreeRoot,this.bPlusTreeChildrenDefinition)),h=Q(this.mainSvgId).selectAll(this.nodeSelector).data(f,function(w){return w?w.data.id:this.id}).filter(w=>w.data===s),p={x:h.data()[0].x-this.nodeWidth,y:h.data()[0].y+this.nodeHeight*1.5};n.add(h.nodes(),{transform:()=>`translate( ${p.x} , ${p.y} )`});const d=new yt(!0),g=new yt(!0);s.pointers.slice(0,this.n-1).forEach(w=>{g.addNodeToPointers(w)}),g.keys=s.keys.slice(0,this.n-1);const _=this.createNodeElement(g,h.data()[0].x,h.data()[0].y,!0,!0),y=[];_.childNodes.forEach(w=>{w.nodeName=="rect"&&y.push(w)});const k=h.data()[0].x,A=h.data()[0].y;n.label("addTempNode"),n.set(_,{transform:`translate(${k} ,${A-this.translateYDist})`},"<"),n.add(_,{opacity:{to:1,ease:this.opacityEaseType},transform:`translate(${k},${A})`},"<"),n.set(y,{fill:this.lightBlue});const C={x:h.data()[0].x+this.nodeWidth,y:h.data()[0].y+this.nodeHeight*1.5},z=this.createNodeElement(d,C.x,C.y);n.add(z,{opacity:{to:1,ease:this.opacityEaseType}},"addTempNode");const P=[];if(z.childNodes.forEach(w=>{w.nodeName=="rect"&&P.push(w)}),P.length!=0&&(n.add(P,{translateY:{from:"-"+this.translateYDist}},"<<"),n.set(P,{fill:this.lightBlue})),document.querySelector(this.mainSvgId)==null)throw new Error("main-svg element not found invalid html structure");let O=h.selectAll(this.nodeTextSelector).data(s.keys,function(w){return w?"t"+w:this.id});const B=[];g.keys.forEach((w,E)=>{B.push(this.createNewNodeText(w,E)),_.appendChild(B[E])}),n.set(B,{opacity:1,fill:this.textColor,translateX:{to:"-"+this.nodeWidth},translateY:{to:"+"+this.nodeHeight*1.5}}),n.set(O.nodes(),{opacity:0}),n.add(B,{translateY:{to:"-"+this.nodeHeight}}),n.add(B,{translateX:{to:0}}),n.add(B,{translateY:{to:0}});const S=r(g,e,_);if(S==null)throw new Error("bad state");B.push(S);const N=s.pointers[this.n-1];if(g.pointers.slice(0,Math.ceil(this.n/2)).forEach(w=>{s.addNodeToPointers(w)}),s.pointers[this.n-1]=d,s.keys=g.keys.slice(0,Math.ceil(this.n/2)),g.pointers.slice(Math.ceil(this.n/2),this.n).forEach(w=>{d.addNodeToPointers(w)}),N&&(d.pointers[this.n-1]=N),d.keys=g.keys.slice(Math.ceil(this.n/2),this.n),d.parent=s.parent,N){const w=document.querySelector(`#${s.id}-${N.id}`);w&&(w.id=`${d.id}-${N.id}`)}const $=document.createElementNS(Kt,"path");$.setAttribute("class",this.leafNodeEdgeClassName),$.setAttribute("d",this.generateLeafEdgePathFN(p.x,p.y,C.x,C.y)),$.setAttribute("fill",this.edgeFill),$.setAttribute("id",this.generateLeafEdgeId(s.id,d.id)),$.setAttribute("stroke",this.edgeStroke),$.setAttribute("stroke-width",this.edgeStrokeWidth),$.setAttribute("opacity",this.edgeOpacity),this.mainSvg.appendChild($),n.set($,{"marker-end":"none","marker-start":"none"},"<"),n.add(Xe.createDrawable($),{draw:"0 1"},"<"),n.set($,{"marker-end":"url(#arrow)","marker-start":"url(#circle)"},"<");const q=[];if(g.keys.slice(0,Math.ceil(this.n/2)).forEach(w=>{const E=document.querySelector("#"+g.id+" #t"+w);if(E==null)throw new Error("Bad dom state");q.push(E)}),n.add(q,{translateY:{to:"-"+this.nodeHeight*1.5}}),n.add(q,{translateX:{to:"-"+this.nodeWidth}}),n.add(q,{translateY:{to:"+"+this.nodeHeight*1.5}}),_.parentNode!=null)_.parentNode.appendChild(_);else throw new Error("bad dom structure");const G=[];g.keys.slice(Math.ceil(this.n/2),this.n).forEach(w=>{const E=document.querySelector("#"+g.id+" #t"+w);if(E==null)throw new Error("Bad dom state");G.push(E)}),n.add(G,{translateY:{to:"-"+this.nodeHeight*1.5}}),n.add(G,{translateX:{to:"+"+(this.keyRectWidth+this.pointerRectWidth*2)}}),n.add(G,{translateY:{to:`+${this.nodeHeight*1.5}`}}),d.keys.forEach((w,E)=>{z.appendChild(this.createNewNodeText(w,E))});const m=Array.from(z.childNodes).filter(w=>w.nodeName=="text");O=h.selectAll(this.nodeTextSelector).data(s.keys,function(w){return w?"t"+w:this.id}),this.exitSelections.push(O.exit()),O.nodes().forEach(w=>{const E=s.keys.findIndex(b=>{if(w==null)throw new Error("bad dom state");return b==Number(w.textContent)});n.set(w,{x:String(this.pointerRectWidth+this.keyRectWidth/2+E*(this.keyRectWidth+this.pointerRectWidth))})});const T=[],v=h.nodes()[0];O.enter().data().forEach(w=>{const E=s.keys.findIndex(R=>R==w),b=this.createNewNodeText(w,E);v.appendChild(b),T.push(b)}),n.set([...O.nodes(),...m,...T],{opacity:1,fill:this.textColor}),n.set(B,{opacity:0}),n.set(Array.from(_.childNodes).filter(w=>w.nodeName=="rect"),{fill:"#F97287"}),n.add(_,{opacity:{to:0,ease:this.opacityEaseType},transform:`translate(${k},${A+this.translateYDist})`},"<"),i(s,d.keys[0],d)}const o=this,u=this.d3TreeLayout(qt(this.bPlusTreeRoot,this.bPlusTreeChildrenDefinition)),l=Q(this.mainSvg),a=l.selectAll(this.nodeSelector).data(u,function(f){return f?f.data.id:this.id}),c=l.selectAll(this.edgeSelector).data(u.links(),function(f){return f?(f.target.data.edgeId==null&&(f.target.data.edgeId=`${o.edgeIdCount++}`),f.target.data.edgeId):this.id});return this.exitSelections.push(a.exit()),this.exitSelections.push(c.exit()),n.init(),n}delete(e){if(this.bPlusTreeRoot.keys.length==0)return null;{const{found:n,node:r}=this.find(e);if(!n)return null}return null}undoableInsert(e){let n=null,r=null,i=null;const s=()=>{const l=this;if(this.exitSelections.forEach(d=>{d.remove()}),i===null)throw new Error("bad state, bplus tree state history not preserved");const a=this.d3TreeLayout(qt(i,this.bPlusTreeChildrenDefinition)),c=Q(this.mainSvgId).selectAll("path."+this.edgeClassName).data(a.links(),function(d){return d?(d.target.data.edgeId==null&&(d.target.data.edgeId=`${l.edgeIdCount++}`),d.target.data.edgeId):this.id});c.exit().remove(),c.attr("d",d=>{const g=d.source.data.pointers.indexOf(d.target.data);return this.generateEdgePathFN(d.source.x,d.source.y,d.target.x,d.target.y,g)}),c.enter().each(function(d){const g=l.createNewEdgeSvgElement(d,!1);g.setAttribute("marker-end","url(#arrow)"),g.setAttribute("marker-start","url(#circle)"),l.mainSvg.appendChild(g)});const f=this.getLeafNodeLinks(a),h=Q(this.mainSvgId).selectAll("path."+this.leafNodeEdgeClassName).data(f,function(d){if(d)return`${d.source.data.id}-${d.target.data.id}`;if(this)return this.id;throw new Error("bad state, datum and DOMElement of element were falsey")});h.exit().remove(),h.attr("d",d=>this.generateLeafEdgePathFN(d.source.x,d.source.y,d.target.x,d.target.y)).attr("id",d=>this.generateLeafEdgeId(d.source.data.id,d.target.data.id)),h.enter().each(function(d){const g=document.createElementNS(Kt,"path");g.setAttribute("class",l.leafNodeEdgeClassName),g.setAttribute("d",l.generateLeafEdgePathFN(d.source.x,d.source.y,d.target.x,d.target.y)),g.setAttribute("fill",l.edgeFill),g.setAttribute("id",l.generateLeafEdgeId(d.source.data.id,d.target.data.id)),g.setAttribute("stroke",l.edgeStroke),g.setAttribute("stroke-width",l.edgeStrokeWidth),g.setAttribute("marker-end",l.edgeMarkerEnd),g.setAttribute("marker-start",l.edgeMarkerStart),l.mainSvg.appendChild(g)});const p=Q(this.mainSvgId).selectAll("g."+this.nodeClassName).data(a,d=>d.data.id);return p.exit().remove(),p.filter(d=>d.data.keys.length===0).remove(),p.attr("transform",d=>`translate(${d.x},${d.y})`),p.each(function(d){const g=Q(this).selectAll("text."+l.keyTextClassName).data(d.data.keys,function(_){return _?"t"+_:this.id});g.exit().remove(),g.attr("x",_=>{const y=d.data.keys.findIndex(k=>_===k);return y!==-1?String(l.pointerRectWidth+l.keyRectWidth/2+y*(l.keyRectWidth+l.pointerRectWidth)):this.getAttribute("x")}),g.enter().each(function(_){const y=d.data.keys.findIndex(k=>_==k);if(y!==-1){const k=l.createNewNodeText(_,y,!1);this.appendChild(k)}})}),this.bPlusTreeRoot=yt.structuredClone(i),this.previousBPlusTreeRoot=yt.structuredClone(i),this.previousValue=n,n==null?null:r=="insert"?this.insert(n):this.delete(n)},o=()=>(n=this.previousValue,r=this.previousOperationType,i=yt.structuredClone(this.previousBPlusTreeRoot),this.previousBPlusTreeRoot=yt.structuredClone(this.bPlusTreeRoot),this.previousValue=e,this.previousOperationType="insert",this.insert(e)),u=o();if(u!=null){const l={do:o,undo:s};this.algoStepHistory.addAlgoStep(l)}return u}undoableDelete(e){yt.structuredClone(this.previousBPlusTreeRoot),this.previousValue,this.previousOperationType;const n=()=>(this.previousBPlusTreeRoot=yt.structuredClone(this.bPlusTreeRoot),this.previousValue=e,this.previousOperationType="delete",this.delete(e)),r=n();if(r!=null){const i={do:n,undo:()=>null};this.algoStepHistory.addAlgoStep(i)}return r}linkDataFunc(e,n){return n?(n.target.data.edgeId==null&&(n.target.data.edgeId=`${this.edgeIdCount++}`),n.target.data.edgeId):e.id}createNewNodeText(e,n,r=!0){const i=document.createElementNS(Kt,"text");return i.setAttribute("class","node-key-text"),i.setAttribute("x",String(this.pointerRectWidth+this.keyRectWidth/2+n*(this.keyRectWidth+this.pointerRectWidth))),i.setAttribute("y",String(this.nodeHeight/2)),r?i.setAttribute("fill","#48D016"):i.setAttribute("fill",this.textColor),i.setAttribute("id","t"+e),i.textContent=String(e),r&&i.setAttribute("opacity","0"),i}createNewEdgeSvgElement(e,n=!0){let r=this.edgeClassName,i=this.generateEdgePathFN;const s=document.createElementNS(Kt,"path");s.setAttribute("class",r);const o=e.source.data.pointers.indexOf(e.target.data);return s.setAttribute("d",i(e.source.x,e.source.y,e.target.x,e.target.y,o)),s.setAttribute("fill",this.edgeFill),s.setAttribute("id",`${e.target.data.edgeId}`),s.setAttribute("stroke",this.edgeStroke),s.setAttribute("stroke-width",this.edgeStrokeWidth),s.setAttribute("opacity",n?"0":"1"),s}createNodeElement(e,n=0,r=0,i=!0,s=!1){let o=0;i==!1&&(o=1);const u=this.mainSvg.querySelector(":scope > path"),l=Q(this.mainSvgId).insert("g",u?`:scope > ${u==null?void 0:u.tagName}`:void 0).attr("class","node").attr("id",String(e.id)).attr("transform-origin","center").attr("transform","translate("+String(n)+","+String(r)+")").attr("opacity",o);for(let a=0;a<this.n-1;a++){const c=a*(this.pointerRectWidth+this.keyRectWidth);l.append("rect").attr("class",this.nodeClassName).attr("width",this.pointerRectWidth).attr("height",this.nodeHeight).attr("x",c).attr("y",0).attr("fill",this.lightGreen),l.append("rect").attr("class",this.nodeClassName).attr("width",this.keyRectWidth).attr("height",this.nodeHeight).attr("x",c+this.pointerRectWidth).attr("y",0).attr("fill",this.lightGreen)}return l.append("rect").attr("class",this.nodeClassName).attr("width",this.pointerRectWidth).attr("height",this.nodeHeight).attr("x",(this.n-1)*(this.pointerRectWidth+this.keyRectWidth)).attr("y",0).attr("fill",this.lightGreen),s&&l.append("rect").attr("class",this.nodeClassName).attr("width",this.keyRectWidth).attr("height",this.nodeHeight).attr("x",(this.n-1)*(this.pointerRectWidth+this.keyRectWidth)+this.pointerRectWidth).attr("y",0).attr("fill",this.lightGreen),l.nodes()[0]}}const gh=()=>{const t=new mh(4),e=document.querySelectorAll('input[type="checkbox"][name="speed"]');let n=null,r=1;const i=document.querySelector("#insert-button");i==null||i.addEventListener("click",async()=>{const h=document.querySelector("#number-input");h!=null&&h.value&&await h.value.split(",").map(Number).reduce(async(p,d)=>{if(await p,await new Promise(g=>setTimeout(g,10)),n=t.undoableInsert(d),n!==null)return n.speed=r,n.play(),n.then()},Promise.resolve()),c()});const s=document.querySelector("#delete-button");s==null||s.addEventListener("click",async()=>{const h=document.querySelector("#number-input");h!=null&&h.value&&await h.value.split(",").map(Number).reduce(async(p,d)=>{await p;const g=t.undoableDelete(d);g!==null&&(await g.then(()=>!0),await new Promise(_=>setTimeout(_,10)))},Promise.resolve()),c()});const o=document.querySelector("#play-button");o==null||o.addEventListener("click",()=>{n?n.play():console.log("no animation to play")});const u=document.querySelector("#back-button");u==null||u.addEventListener("click",()=>{n&&n.complete();const h=t.algoStepHistory.stepBackwards();h!==null&&(n=h,n.speed=r,n.progress=1)});const l=document.querySelector("#forward-button");l==null||l.addEventListener("click",()=>{n&&n.complete();const h=t.algoStepHistory.stepForwards();h!==null&&(n=h,n.speed=r,n.play())});const a=document.querySelector("#timeline-input");a==null||a.addEventListener("input",()=>{n&&n.seek(a.valueAsNumber*n.duration)}),e.forEach(h=>{h.addEventListener("mousedown",function(){this.checked==!1?(e.forEach(p=>{p.checked=!1}),r=Number(this.value)):r=1,wi.sync(()=>{n!==null&&(n.speed=r)})})});const c=()=>(console.debug("update timeline input"),1);let f=document.querySelector("svg");if(f==null)throw new Error("svg element not found");f.addEventListener("click",function(h){let p=f.createSVGPoint();p.x=h.clientX,p.y=h.clientY;const d=f.getScreenCTM();if(d===null)throw new Error("getScreenCTM returned null");let g=p.matrixTransform(d.inverse());console.log(`x: ${g.x}, y: ${g.y}`)})};window.onload=()=>{console.debug("window loaded"),gh()};
